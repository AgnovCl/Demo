import{$ as I,Bb as Q,D as m,Db as Z,E as i,Eb as $,F as e,G as b,H as y,I as x,J as d,N as o,P as _,S as g,T as h,U as f,Ya as W,Z as E,Za as B,bb as k,cb as L,db as N,ea as w,eb as A,fb as D,gb as F,jb as z,mb as U,n as u,na as M,nb as j,o as p,ob as H,pa as V,pb as q,qb as G,tb as J,u as c,ua as T,ub as O,w as S,xb as X,y as R,yb as Y,z as C,zb as K}from"./chunk-KFCX55XD.js";import"./chunk-24WMRY7Q.js";import"./chunk-QUJFQN2Y.js";import"./chunk-PPLOLVG2.js";import"./chunk-WRVDKWF6.js";import"./chunk-YGW4HXY5.js";import"./chunk-BMJVVMK5.js";import"./chunk-S6AMPHJZ.js";import"./chunk-EEG35UFA.js";import"./chunk-WBVABYLX.js";import"./chunk-UD3XTG5V.js";import"./chunk-FOFIWYID.js";import"./chunk-JOTLW5X2.js";import"./chunk-3PF4GKYE.js";import"./chunk-BLSTF7EF.js";import"./chunk-3IVKBF6N.js";import"./chunk-M2X7KQLB.js";import"./chunk-UIFIQKDK.js";import"./chunk-42C7ZIID.js";import"./chunk-C5RQ2IC2.js";import"./chunk-AJI4VUU4.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-BKXINAYE.js";import"./chunk-CKP3SGE2.js";import"./chunk-XF2R5JSX.js";import{g as P}from"./chunk-2R6CW7ES.js";function te(a,s){a&1&&(i(0,"div",9),b(1,"ion-spinner",10),i(2,"p"),o(3,"Buscando producto..."),e()())}function ie(a,s){if(a&1&&(i(0,"ion-item")(1,"ion-label")(2,"b"),o(3,"Persona:"),e(),o(4),e()()),a&2){let t=d(2);c(4),_(" ",t.producto.persona)}}function ne(a,s){if(a&1&&(i(0,"ion-item")(1,"ion-label")(2,"b"),o(3,"Fecha reserva:"),e(),o(4),e()()),a&2){let t=d(2);c(4),_(" ",t.producto.fechaReserva)}}function oe(a,s){if(a&1&&(i(0,"ion-item")(1,"ion-label")(2,"b"),o(3,"Vencimiento:"),e(),o(4),e()()),a&2){let t=d(2);c(4),_(" ",t.producto.fechaVencimiento)}}function re(a,s){if(a&1&&(i(0,"ion-item")(1,"ion-label")(2,"b"),o(3,"Comentarios:"),e(),o(4),e()()),a&2){let t=d(2);c(4),_(" ",t.producto.comentarios)}}function ae(a,s){if(a&1){let t=y();i(0,"ion-button",12),x("click",function(){u(t);let n=d(2);return p(n.liberar())}),o(1," Liberar producto "),e()}}function ce(a,s){if(a&1&&(i(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),o(3,"Estado actual"),e(),i(4,"ion-card-subtitle"),o(5),e()(),i(6,"ion-card-content")(7,"ion-item")(8,"ion-label")(9,"b"),o(10,"Estado:"),e(),o(11),e()(),C(12,ie,5,1,"ion-item",8)(13,ne,5,1,"ion-item",8)(14,oe,5,1,"ion-item",8)(15,re,5,1,"ion-item",8)(16,ae,2,0,"ion-button",11),e()()),a&2){let t=d();c(5),_("N\xB0 Serie: ",t.producto.numeroSerie),c(6),_(" ",t.producto.estado),c(),m("ngIf",t.producto.estado!=="Disponible"),c(),m("ngIf",t.producto.fechaReserva),c(),m("ngIf",t.producto.fechaVencimiento),c(),m("ngIf",t.producto.comentarios),c(),m("ngIf",t.producto.estado!=="Disponible")}}function se(a,s){if(a&1){let t=y();i(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),o(3,"Reservar o prestar producto"),e()(),i(4,"ion-card-content")(5,"ion-item")(6,"ion-label",4),o(7,"Acci\xF3n"),e(),i(8,"ion-segment",13),f("ngModelChange",function(n){u(t);let r=d();return h(r.accion,n)||(r.accion=n),p(n)}),i(9,"ion-segment-button",14),o(10,"Reservar"),e(),i(11,"ion-segment-button",15),o(12,"Prestar"),e()()(),i(13,"ion-item")(14,"ion-label",4),o(15,"Persona"),e(),i(16,"ion-input",16),f("ngModelChange",function(n){u(t);let r=d();return h(r.persona,n)||(r.persona=n),p(n)}),e()(),i(17,"ion-item")(18,"ion-label",4),o(19,"Fecha reserva"),e(),i(20,"ion-input",17),f("ngModelChange",function(n){u(t);let r=d();return h(r.fechaReserva,n)||(r.fechaReserva=n),p(n)}),e()(),i(21,"ion-item")(22,"ion-label",4),o(23,"Vencimiento"),e(),i(24,"ion-input",17),f("ngModelChange",function(n){u(t);let r=d();return h(r.fechaVencimiento,n)||(r.fechaVencimiento=n),p(n)}),e()(),i(25,"ion-item")(26,"ion-label",4),o(27,"Comentarios"),e(),i(28,"ion-textarea",18),f("ngModelChange",function(n){u(t);let r=d();return h(r.comentarios,n)||(r.comentarios=n),p(n)}),e()(),i(29,"ion-button",19),x("click",function(){u(t);let n=d();return p(n.reservarPrestar())}),o(30),e()()()}if(a&2){let t=d();c(8),g("ngModel",t.accion),c(8),g("ngModel",t.persona),c(4),g("ngModel",t.fechaReserva),c(4),g("ngModel",t.fechaVencimiento),c(4),g("ngModel",t.comentarios),c(),m("disabled",!t.persona||!t.fechaReserva||!t.fechaVencimiento),c(),_(" ",t.accion," producto ")}}function le(a,s){a&1&&(i(0,"div")(1,"ion-card",20)(2,"ion-card-content"),b(3,"ion-icon",21),i(4,"h3"),o(5,"No se encontr\xF3 el producto"),e()()()())}var Pe=(()=>{let s=class s{constructor(l,n){this.toastController=l,this.route=n,this.numeroSerie="",this.producto=null,this.loading=!1,this.accion="Reservar",this.persona="",this.fechaReserva="",this.fechaVencimiento="",this.comentarios=""}ngOnInit(){this.route.queryParams.subscribe(l=>{l.numeroSerie&&(this.numeroSerie=l.numeroSerie,this.buscarProducto())})}buscarProducto(){this.loading=!0,setTimeout(()=>{this.numeroSerie.trim().toUpperCase()==="ABC123"?this.producto={numeroSerie:"ABC123",estado:"Disponible"}:this.numeroSerie.trim().toUpperCase()==="RES123"?this.producto={numeroSerie:"RES123",estado:"Reservado",persona:"Juan P\xE9rez",fechaReserva:"2024-06-10",fechaVencimiento:"2024-06-20",comentarios:"Reserva para proyecto X"}:this.numeroSerie.trim().toUpperCase()==="PRE123"?this.producto={numeroSerie:"PRE123",estado:"Prestado",persona:"Mar\xEDa Gonz\xE1lez",fechaReserva:"2024-06-05",fechaVencimiento:"2024-06-15",comentarios:"Pr\xE9stamo a cliente Y"}:this.producto=null,this.loading=!1},800)}reservarPrestar(){return P(this,null,function*(){this.mostrarToast(`Producto ${this.accion==="Reservar"?"reservado":"prestado"} correctamente`,"success"),this.producto={numeroSerie:this.numeroSerie.trim().toUpperCase(),estado:this.accion==="Reservar"?"Reservado":"Prestado",persona:this.persona,fechaReserva:this.fechaReserva,fechaVencimiento:this.fechaVencimiento,comentarios:this.comentarios},this.persona="",this.fechaReserva="",this.fechaVencimiento="",this.comentarios=""})}liberar(){return P(this,null,function*(){this.mostrarToast("Producto liberado correctamente","success"),this.producto={numeroSerie:this.numeroSerie.trim().toUpperCase(),estado:"Disponible"}})}mostrarToast(l,n){return P(this,null,function*(){yield(yield this.toastController.create({message:l,duration:2e3,color:n,position:"top"})).present()})}};s.\u0275fac=function(n){return new(n||s)(S(Z),S(w))},s.\u0275cmp=R({type:s,selectors:[["app-reservar-prestar-producto"]],decls:24,vars:7,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["position","stacked"],["placeholder","Ej: ABC123, RES123, PRE123",3,"ngModelChange","ngModel"],["expand","block","color","primary",3,"click"],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],["name","crescent"],["expand","block","color","success",3,"click",4,"ngIf"],["expand","block","color","success",3,"click"],[3,"ngModelChange","ngModel"],["value","Reservar"],["value","Prestar"],["placeholder","Nombre de la persona",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["auto-grow","true","placeholder","Comentarios adicionales",3,"ngModelChange","ngModel"],["expand","block","color","primary",3,"click","disabled"],[1,"empty-state"],["name","cube-outline","size","large"]],template:function(n,r){n&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o(3,"Reservar / Prestar Producto"),e()()(),i(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),o(8,"Reservar / Prestar Producto"),e()()(),i(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),o(12,"Buscar producto por N\xB0 de serie"),e()(),i(13,"ion-card-content")(14,"ion-item")(15,"ion-label",4),o(16,"N\xB0 Serie"),e(),i(17,"ion-input",5),f("ngModelChange",function(v){return h(r.numeroSerie,v)||(r.numeroSerie=v),v}),e()(),i(18,"ion-button",6),x("click",function(){return r.buscarProducto()}),o(19," Buscar producto "),e()()(),C(20,te,4,0,"div",7)(21,ce,17,7,"ion-card",8)(22,se,31,7,"ion-card",8)(23,le,6,0,"div",8),e()),n&2&&(m("translucent",!0),c(4),m("fullscreen",!0),c(13),g("ngModel",r.numeroSerie),c(3),m("ngIf",r.loading),c(),m("ngIf",!r.loading&&r.producto),c(),m("ngIf",!r.loading&&r.producto&&r.producto.estado==="Disponible"),c(),m("ngIf",!r.loading&&!r.producto&&r.numeroSerie))},dependencies:[I,E,$,k,L,N,A,D,F,z,U,j,H,q,G,J,O,X,Y,K,Q,W,B,T,M,V],encapsulation:2});let a=s;return a})();export{Pe as ReservarPrestarProductoPage};
