import{a as x}from"./chunk-UZWYUGAE.js";import{$ as E,Bb as X,D as s,Db as Y,E as t,Eb as Z,F as n,G as _,I as M,N as o,O as P,P as f,S as l,T as d,U as c,Wa as v,Xa as A,Y as w,Ya as F,Za as T,bb as L,cb as U,db as k,eb as N,gb as D,hb as j,ib as O,jb as V,mb as z,na as I,ob as H,pa as W,pb as R,qb as q,sb as G,u as a,ua as B,vb as J,w as S,wb as K,y as b,z as C,zb as Q}from"./chunk-KFCX55XD.js";import"./chunk-24WMRY7Q.js";import"./chunk-QUJFQN2Y.js";import"./chunk-PPLOLVG2.js";import"./chunk-WRVDKWF6.js";import"./chunk-YGW4HXY5.js";import"./chunk-BMJVVMK5.js";import"./chunk-S6AMPHJZ.js";import"./chunk-EEG35UFA.js";import"./chunk-WBVABYLX.js";import"./chunk-UD3XTG5V.js";import"./chunk-FOFIWYID.js";import"./chunk-JOTLW5X2.js";import"./chunk-3PF4GKYE.js";import"./chunk-BLSTF7EF.js";import"./chunk-3IVKBF6N.js";import"./chunk-M2X7KQLB.js";import"./chunk-UIFIQKDK.js";import"./chunk-42C7ZIID.js";import"./chunk-C5RQ2IC2.js";import"./chunk-AJI4VUU4.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-BKXINAYE.js";import"./chunk-CKP3SGE2.js";import"./chunk-XF2R5JSX.js";import{g as h}from"./chunk-2R6CW7ES.js";function $(u,m){if(u&1&&(t(0,"ion-select-option",25),o(1),n()),u&2){let y=m.$implicit;s("value",y.nombre),a(),P(y.nombre)}}var de=(()=>{let m=class m{constructor(p,g){this.ubicacionService=p,this.toastController=g,this.marca="",this.familia="",this.nombre="",this.numeroSerie="",this.ubicacion="",this.fechaIngreso="",this.activoFijo=!1,this.costoNeto=null,this.margen=null,this.monedaBase="CLP",this.precioBase=null,this.precioCLP=null,this.precioUSD=null,this.precioUF=null,this.ubicaciones=[],this.loading=!1}ngOnInit(){this.cargarUbicaciones(),this.fechaIngreso=new Date().toISOString().slice(0,10)}cargarUbicaciones(){return h(this,null,function*(){this.loading=!0,this.ubicaciones=(yield this.ubicacionService.getUbicaciones().toPromise())||[],this.loading=!1})}limpiar(){this.marca="",this.familia="",this.nombre="",this.numeroSerie="",this.ubicacion="",this.fechaIngreso=new Date().toISOString().slice(0,10),this.activoFijo=!1,this.costoNeto=null,this.margen=null,this.monedaBase="CLP",this.precioBase=null,this.precioCLP=null,this.precioUSD=null,this.precioUF=null}agregarProducto(){return h(this,null,function*(){this.mostrarToast("Producto agregado correctamente","success"),this.limpiar()})}mostrarToast(p,g){return h(this,null,function*(){yield(yield this.toastController.create({message:p,duration:2e3,color:g,position:"top"})).present()})}};m.\u0275fac=function(g){return new(g||m)(S(x),S(Y))},m.\u0275cmp=b({type:m,selectors:[["app-agregar-producto"]],decls:86,vars:18,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["position","stacked"],["placeholder","Marca del producto",3,"ngModelChange","ngModel"],["placeholder","Familia del producto",3,"ngModelChange","ngModel"],["placeholder","Nombre del producto",3,"ngModelChange","ngModel"],["placeholder","N\xFAmero de serie",3,"ngModelChange","ngModel"],["interface","popover",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",3,"ngModelChange","ngModel"],["slot","start",3,"ngModelChange","ngModel"],["type","number","placeholder","Costo neto",3,"ngModelChange","ngModel"],["type","number","placeholder","Margen",3,"ngModelChange","ngModel"],["value","CLP"],["value","USD"],["value","UF"],["type","number","placeholder","Precio en moneda seleccionada",3,"ngModelChange","ngModel"],["type","number","disabled","","placeholder","Calculado por backend",3,"value"],[1,"ion-margin-top"],["size","6"],["expand","block","color","primary",3,"click"],["expand","block","fill","clear","color","medium",3,"click"],[3,"value"]],template:function(g,i){g&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o(3,"Agregar Producto"),n()()(),t(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),o(8,"Agregar Producto"),n()()(),t(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),o(12,"Ingreso manual de producto"),n()(),t(13,"ion-card-content")(14,"ion-item")(15,"ion-label",4),o(16,"Marca"),n(),t(17,"ion-input",5),c("ngModelChange",function(e){return d(i.marca,e)||(i.marca=e),e}),n()(),t(18,"ion-item")(19,"ion-label",4),o(20,"Familia"),n(),t(21,"ion-input",6),c("ngModelChange",function(e){return d(i.familia,e)||(i.familia=e),e}),n()(),t(22,"ion-item")(23,"ion-label",4),o(24,"Nombre"),n(),t(25,"ion-input",7),c("ngModelChange",function(e){return d(i.nombre,e)||(i.nombre=e),e}),n()(),t(26,"ion-item")(27,"ion-label",4),o(28,"N\xB0 Serie"),n(),t(29,"ion-input",8),c("ngModelChange",function(e){return d(i.numeroSerie,e)||(i.numeroSerie=e),e}),n()(),t(30,"ion-item")(31,"ion-label",4),o(32,"Ubicaci\xF3n"),n(),t(33,"ion-select",9),c("ngModelChange",function(e){return d(i.ubicacion,e)||(i.ubicacion=e),e}),t(34,"ion-select-option",10),o(35,"Selecciona ubicaci\xF3n"),n(),C(36,$,2,2,"ion-select-option",11),n()(),t(37,"ion-item")(38,"ion-label",4),o(39,"Fecha de ingreso"),n(),t(40,"ion-input",12),c("ngModelChange",function(e){return d(i.fechaIngreso,e)||(i.fechaIngreso=e),e}),n()(),t(41,"ion-item")(42,"ion-label"),o(43,"Activo fijo"),n(),t(44,"ion-checkbox",13),c("ngModelChange",function(e){return d(i.activoFijo,e)||(i.activoFijo=e),e}),n()(),t(45,"ion-item")(46,"ion-label",4),o(47,"Costo neto"),n(),t(48,"ion-input",14),c("ngModelChange",function(e){return d(i.costoNeto,e)||(i.costoNeto=e),e}),n()(),t(49,"ion-item")(50,"ion-label",4),o(51,"Margen (%)"),n(),t(52,"ion-input",15),c("ngModelChange",function(e){return d(i.margen,e)||(i.margen=e),e}),n()(),t(53,"ion-item")(54,"ion-label",4),o(55,"Moneda de precio"),n(),t(56,"ion-select",9),c("ngModelChange",function(e){return d(i.monedaBase,e)||(i.monedaBase=e),e}),t(57,"ion-select-option",16),o(58,"CLP"),n(),t(59,"ion-select-option",17),o(60,"USD"),n(),t(61,"ion-select-option",18),o(62,"UF"),n()()(),t(63,"ion-item")(64,"ion-label",4),o(65),n(),t(66,"ion-input",19),c("ngModelChange",function(e){return d(i.precioBase,e)||(i.precioBase=e),e}),n()(),t(67,"ion-item")(68,"ion-label",4),o(69,"Precio CLP"),n(),_(70,"ion-input",20),n(),t(71,"ion-item")(72,"ion-label",4),o(73,"Precio USD"),n(),_(74,"ion-input",20),n(),t(75,"ion-item")(76,"ion-label",4),o(77,"Precio UF"),n(),_(78,"ion-input",20),n(),t(79,"ion-row",21)(80,"ion-col",22)(81,"ion-button",23),M("click",function(){return i.agregarProducto()}),o(82," Agregar producto "),n()(),t(83,"ion-col",22)(84,"ion-button",24),M("click",function(){return i.limpiar()}),o(85," Limpiar "),n()()()()()()),g&2&&(s("translucent",!0),a(4),s("fullscreen",!0),a(13),l("ngModel",i.marca),a(4),l("ngModel",i.familia),a(4),l("ngModel",i.nombre),a(4),l("ngModel",i.numeroSerie),a(4),l("ngModel",i.ubicacion),a(3),s("ngForOf",i.ubicaciones),a(4),l("ngModel",i.fechaIngreso),a(4),l("ngModel",i.activoFijo),a(4),l("ngModel",i.costoNeto),a(4),l("ngModel",i.margen),a(4),l("ngModel",i.monedaBase),a(9),f("Precio (",i.monedaBase,")"),a(),l("ngModel",i.precioBase),a(4),s("value",i.precioCLP),a(4),s("value",i.precioUSD),a(4),s("value",i.precioUF))},dependencies:[E,w,Z,L,U,k,N,D,j,O,V,z,H,R,q,G,J,K,Q,X,v,A,F,T,B,I,W],encapsulation:2});let u=m;return u})();export{de as AgregarProductoPage};
