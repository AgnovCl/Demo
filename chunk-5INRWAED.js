import{a as z}from"./chunk-BDNWTLA3.js";import"./chunk-SOLGGFDN.js";import{$ as w,C as O,Cb as U,D as _,E as e,Eb as I,F as n,G as M,H as h,I as d,J as m,N as t,O as g,P as k,Q as f,Z as y,fa as D,ha as S,ia as L,ka as E,n as u,o as p,t as b,u as c,w as v,y as P,z as C}from"./chunk-KFCX55XD.js";import"./chunk-24WMRY7Q.js";import"./chunk-QUJFQN2Y.js";import"./chunk-PPLOLVG2.js";import"./chunk-WRVDKWF6.js";import"./chunk-YGW4HXY5.js";import"./chunk-BMJVVMK5.js";import"./chunk-S6AMPHJZ.js";import"./chunk-EEG35UFA.js";import"./chunk-WBVABYLX.js";import"./chunk-UD3XTG5V.js";import"./chunk-FOFIWYID.js";import"./chunk-JOTLW5X2.js";import"./chunk-3PF4GKYE.js";import"./chunk-BLSTF7EF.js";import"./chunk-3IVKBF6N.js";import"./chunk-M2X7KQLB.js";import"./chunk-UIFIQKDK.js";import"./chunk-42C7ZIID.js";import"./chunk-C5RQ2IC2.js";import"./chunk-AJI4VUU4.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-BKXINAYE.js";import"./chunk-CKP3SGE2.js";import"./chunk-XF2R5JSX.js";import"./chunk-2R6CW7ES.js";function A(l,s){l&1&&(e(0,"span"),t(1,"\u{1F319}"),n())}function F(l,s){l&1&&(e(0,"span"),t(1,"\u2600\uFE0F"),n())}function V(l,s){if(l&1){let o=h();e(0,"div",26)(1,"div",27)(2,"div",28),t(3),n(),e(4,"div")(5,"div",29),t(6),n(),e(7,"div",30),t(8),n(),e(9,"div",22),t(10),n()()(),M(11,"hr"),e(12,"button",31),d("click",function(){u(o);let r=m();return p(r.goToProfile())}),t(13,"Perfil"),n(),e(14,"button",31),d("click",function(){u(o);let r=m();return p(r.goToSettings())}),t(15,"Configuraci\xF3n"),n(),e(16,"button",31),d("click",function(){u(o);let r=m();return p(r.logout())}),t(17,"Cerrar sesi\xF3n"),n()()}if(l&2){let o=m();c(3),g(o.userInitials),c(3),f("",o.currentUser==null?null:o.currentUser.nombre," ",o.currentUser==null?null:o.currentUser.apellido),c(2),g(o.currentUser==null?null:o.currentUser.email),c(2),g(o.currentUser==null?null:o.currentUser.rol)}}var J=(()=>{let s=class s{constructor(a){this.authService=a,this.currentUser=null,this.showUserMenu=!1,this.isDarkMode=!1,this.currentUser=this.authService.getCurrentUser(),this.isDarkMode=this.getInitialDarkMode(),this.applyDarkMode()}get userInitials(){return this.currentUser?((this.currentUser.nombre?.charAt(0)||"")+(this.currentUser.apellido?.charAt(0)||"")).toUpperCase():""}toggleUserMenu(){this.showUserMenu=!this.showUserMenu}onDocumentClick(a){a.target.closest(".user-menu")||(this.showUserMenu=!1)}logout(){this.authService.logout(),window.location.href="/login"}goToProfile(){alert("Ir a perfil de usuario (por implementar)")}goToSettings(){alert("Ir a configuraci\xF3n (por implementar)")}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,localStorage.setItem("dark_mode",this.isDarkMode?"1":"0"),this.applyDarkMode()}getInitialDarkMode(){let a=localStorage.getItem("dark_mode");return a!==null?a==="1":window.matchMedia("(prefers-color-scheme: dark)").matches}applyDarkMode(){this.isDarkMode?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}};s.\u0275fac=function(r){return new(r||s)(v(z))},s.\u0275cmp=P({type:s,selectors:[["app-main-layout"]],hostBindings:function(r,i){r&1&&d("click",function(T){return i.onDocumentClick(T)},b)},decls:42,vars:8,consts:[[1,"main-layout"],[1,"sidebar"],[1,"sidebar-logo"],["src","assets/images/image.png","alt","Logo"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active"],["routerLink","/products","routerLinkActive","active"],["routerLink","/orders","routerLinkActive","active"],["routerLink","/movements","routerLinkActive","active"],["routerLink","/ubicaciones","routerLinkActive","active"],["routerLink","/providers","routerLinkActive","active"],["routerLink","/clients","routerLinkActive","active"],[1,"main-content"],[1,"topbar"],[1,"topbar-left"],[1,"topbar-title"],[1,"topbar-right"],[1,"darkmode-btn",3,"click"],[4,"ngIf"],[1,"user-menu",3,"click"],[1,"user-avatar"],[1,"user-name"],[1,"user-role"],[1,"user-dropdown"],["class","user-dropdown-menu",4,"ngIf"],[1,"page-content"],[1,"user-dropdown-menu"],[1,"user-info"],[1,"user-avatar-lg"],[1,"user-fullname"],[1,"user-email"],[3,"click"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"aside",1)(2,"div",2),M(3,"img",3),e(4,"span"),t(5,"Agnov"),n()(),e(6,"nav",4)(7,"a",5),t(8,"\u{1F3E0} Dashboard"),n(),e(9,"a",6),t(10,"\u{1F4E6} Productos"),n(),e(11,"a",7),t(12,"\u{1F4CB} \xD3rdenes"),n(),e(13,"a",8),t(14,"\u{1F504} Movimientos"),n(),e(15,"a",9),t(16,"\u{1F4CD} Ubicaciones"),n(),e(17,"a",10),t(18,"\u{1F3E2} Proveedores"),n(),e(19,"a",11),t(20,"\u{1F465} Clientes"),n()()(),e(21,"div",12)(22,"header",13)(23,"div",14)(24,"span",15),t(25,"Sistema de Inventario"),n()(),e(26,"div",16)(27,"button",17),d("click",function(){return i.toggleDarkMode()}),C(28,A,2,0,"span",18)(29,F,2,0,"span",18),n(),e(30,"div",19),d("click",function(){return i.toggleUserMenu()}),e(31,"div",20),t(32),n(),e(33,"span",21),t(34),n(),e(35,"span",22),t(36),n(),e(37,"span",23),t(38,"\u25BC"),n(),C(39,V,18,5,"div",24),n()()(),e(40,"main",25),M(41,"router-outlet"),n()()()),r&2&&(c(27),O("aria-label",i.isDarkMode?"Modo claro":"Modo oscuro"),c(),_("ngIf",!i.isDarkMode),c(),_("ngIf",i.isDarkMode),c(3),g(i.userInitials),c(2),f("",i.currentUser==null?null:i.currentUser.nombre," ",i.currentUser==null?null:i.currentUser.apellido),c(2),k("(",i.currentUser==null?null:i.currentUser.rol,")"),c(3),_("ngIf",i.showUserMenu))},dependencies:[D,w,y,E,S,L,I,U],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-background-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}body.dark-mode[_ngcontent-%COMP%]{--bg-primary: #232b36 !important;--bg-secondary: #2d3748 !important;--text-primary: #ecf0f1 !important;--text-secondary: #bdc3c7 !important}.main-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:var(--bg-secondary)}.sidebar[_ngcontent-%COMP%]{width:250px;background:var(--bg-primary);box-shadow:2px 0 16px #00000012;display:flex;flex-direction:column;align-items:center;padding:2rem 1rem 1rem;z-index:10}.sidebar-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;margin-bottom:2rem;font-size:1.3rem;font-weight:700;color:var(--primary-color)}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain}.sidebar-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%}.sidebar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;padding:.8rem 1rem;border-radius:8px;color:var(--text-primary);font-weight:500;text-decoration:none;font-size:1rem;transition:background .2s,color .2s}.sidebar-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--primary-gradient);color:#fff}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0}.topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:var(--bg-primary);padding:1rem 2rem;box-shadow:0 2px 10px #00000012;position:sticky;top:0;z-index:20}.topbar-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:var(--primary-color)}.topbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.darkmode-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--primary-color);transition:color .2s}.darkmode-btn[_ngcontent-%COMP%]:hover{color:#764ba2}.user-menu[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.7rem;cursor:pointer}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;background:var(--primary-gradient);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem}.user-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary)}.user-dropdown[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.user-dropdown-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:120%;background:var(--bg-primary);box-shadow:0 8px 32px #00000021;border-radius:12px;min-width:220px;padding:1rem;z-index:100;display:flex;flex-direction:column;gap:.7rem;animation:_ngcontent-%COMP%_fadeIn .2s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;margin-bottom:.5rem}.user-avatar-lg[_ngcontent-%COMP%]{width:48px;height:48px;background:var(--primary-gradient);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.3rem}.user-fullname[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.user-email[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.user-role[_ngcontent-%COMP%]{font-size:.85rem;color:var(--primary-color);font-weight:500}.user-dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-primary);font-size:1rem;text-align:left;padding:.5rem 0;cursor:pointer;border-radius:6px;transition:background .2s}.user-dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.page-content[_ngcontent-%COMP%]{flex:1;padding:2rem;background:var(--bg-secondary);min-height:0;overflow-x:auto}@media (max-width: 900px){.main-layout[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{flex-direction:row;width:100%;height:60px;padding:0 1rem;justify-content:space-between;align-items:center}.sidebar-logo[_ngcontent-%COMP%]{margin-bottom:0}.sidebar-nav[_ngcontent-%COMP%]{flex-direction:row;gap:.5rem}.sidebar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem .7rem}}@media (max-width: 600px){.topbar[_ngcontent-%COMP%]{flex-direction:column;gap:.7rem;padding:.7rem 1rem}.page-content[_ngcontent-%COMP%]{padding:1rem}}"]});let l=s;return l})();export{J as MainLayoutComponent};
