import{a as k}from"./chunk-BDNWTLA3.js";import"./chunk-SOLGGFDN.js";import{$ as S,D as g,E as o,Eb as j,F as r,G as b,I as P,J as _,L as C,N as l,P as v,Z as O,ga as F,la as y,ma as c,na as I,oa as E,qa as w,ra as L,sa as z,ta as N,u as i,va as T,w as h,y as M,z as p}from"./chunk-KFCX55XD.js";import"./chunk-24WMRY7Q.js";import"./chunk-QUJFQN2Y.js";import"./chunk-PPLOLVG2.js";import"./chunk-WRVDKWF6.js";import"./chunk-YGW4HXY5.js";import"./chunk-BMJVVMK5.js";import"./chunk-S6AMPHJZ.js";import"./chunk-EEG35UFA.js";import"./chunk-WBVABYLX.js";import"./chunk-UD3XTG5V.js";import"./chunk-FOFIWYID.js";import"./chunk-JOTLW5X2.js";import"./chunk-3PF4GKYE.js";import"./chunk-BLSTF7EF.js";import"./chunk-3IVKBF6N.js";import"./chunk-M2X7KQLB.js";import"./chunk-UIFIQKDK.js";import"./chunk-42C7ZIID.js";import"./chunk-C5RQ2IC2.js";import"./chunk-AJI4VUU4.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-BKXINAYE.js";import"./chunk-CKP3SGE2.js";import"./chunk-XF2R5JSX.js";import"./chunk-2R6CW7ES.js";function q(n,a){if(n&1&&(o(0,"div",16),l(1),r()),n&2){let d=_();i(),v(" ",d.getErrorMessage("email")," ")}}function A(n,a){if(n&1&&(o(0,"div",16),l(1),r()),n&2){let d=_();i(),v(" ",d.getErrorMessage("contrasena")," ")}}function D(n,a){if(n&1&&(o(0,"div",17),l(1),r()),n&2){let d=_();i(),v(" ",d.errorMessage," ")}}function G(n,a){n&1&&(o(0,"span"),l(1,"Iniciar Sesi\xF3n"),r())}function B(n,a){n&1&&(o(0,"span"),l(1,"Iniciando..."),r())}var U=(()=>{let a=class a{constructor(s,t,e){this.formBuilder=s,this.authService=t,this.router=e,this.isLoading=!1,this.errorMessage="",this.loginForm=this.formBuilder.group({email:["",[c.required,c.email]],contrasena:["",[c.required,c.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let s=this.loginForm.value;this.authService.login(s).subscribe({next:t=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},error:t=>{this.isLoading=!1,this.errorMessage="Credenciales inv\xE1lidas. Por favor, int\xE9ntalo de nuevo.",console.error("Error de login:",t)}})}}getErrorMessage(s){let t=this.loginForm.get(s);if(t?.errors){if(t.errors.required)return`${s==="email"?"Email":"Contrase\xF1a"} es requerido`;if(t.errors.email)return"Email inv\xE1lido";if(t.errors.minlength)return"La contrase\xF1a debe tener al menos 6 caracteres"}return""}};a.\u0275fac=function(t){return new(t||a)(h(N),h(k),h(F))},a.\u0275cmp=M({type:a,selectors:[["app-login"]],decls:23,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"logo-section"],["src","assets/images/image.png","alt","Agnov Logo",1,"logo"],[1,"company-name"],[1,"subtitle"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Ingresa tu email"],["class","error-message",4,"ngIf"],["for","contrasena"],["type","password","id","contrasena","formControlName","contrasena","placeholder","Ingresa tu contrase\xF1a"],["class","error-message global-error",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[4,"ngIf"],[1,"error-message"],[1,"error-message","global-error"]],template:function(t,e){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),b(3,"img",3),o(4,"h1",4),l(5,"Agnov"),r(),o(6,"p",5),l(7,"Sistema de Inventario"),r()(),o(8,"form",6),P("ngSubmit",function(){return e.onSubmit()}),o(9,"div",7)(10,"label",8),l(11,"Email"),r(),b(12,"input",9),p(13,q,2,1,"div",10),r(),o(14,"div",7)(15,"label",11),l(16,"Contrase\xF1a"),r(),b(17,"input",12),p(18,A,2,1,"div",10),r(),p(19,D,2,1,"div",13),o(20,"button",14),p(21,G,2,0,"span",15)(22,B,2,0,"span",15),r()()()()),t&2){let m,u,f,x;i(8),g("formGroup",e.loginForm),i(4),C("error",((m=e.loginForm.get("email"))==null?null:m.invalid)&&((m=e.loginForm.get("email"))==null?null:m.touched)),i(),g("ngIf",((u=e.loginForm.get("email"))==null?null:u.invalid)&&((u=e.loginForm.get("email"))==null?null:u.touched)),i(4),C("error",((f=e.loginForm.get("contrasena"))==null?null:f.invalid)&&((f=e.loginForm.get("contrasena"))==null?null:f.touched)),i(),g("ngIf",((x=e.loginForm.get("contrasena"))==null?null:x.invalid)&&((x=e.loginForm.get("contrasena"))==null?null:x.touched)),i(),g("ngIf",e.errorMessage),i(),g("disabled",e.loginForm.invalid||e.isLoading),i(),g("ngIf",!e.isLoading),i(),g("ngIf",e.isLoading)}},dependencies:[S,O,T,w,y,I,E,L,z,j],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 40px #0000001a;padding:40px;width:100%;max-width:400px;text-align:center}.logo-section[_ngcontent-%COMP%]{margin-bottom:30px}.logo[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain;margin-bottom:16px}.company-name[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;margin:0 0 8px}.subtitle[_ngcontent-%COMP%]{font-size:16px;color:#666;margin:0}.login-form[_ngcontent-%COMP%]{text-align:left}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333;font-size:14px}input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;border-radius:8px;font-size:16px;transition:border-color .3s ease;box-sizing:border-box}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}input.error[_ngcontent-%COMP%]{border-color:#e74c3c}input[_ngcontent-%COMP%]::placeholder{color:#999}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;margin-top:4px;min-height:16px}.global-error[_ngcontent-%COMP%]{background:#fdf2f2;border:1px solid #fecaca;border-radius:6px;padding:12px;margin-bottom:20px;text-align:center}.login-button[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:14px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.login-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.demo-credentials[_ngcontent-%COMP%]{margin-top:30px;padding-top:20px;border-top:1px solid #e1e5e9;text-align:left}.demo-credentials[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0 0 12px;text-align:center}.credential-item[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-bottom:6px;padding:4px 0}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:10px}.login-card[_ngcontent-%COMP%]{padding:30px 20px}.logo[_ngcontent-%COMP%]{width:60px;height:60px}.company-name[_ngcontent-%COMP%]{font-size:24px}input[_ngcontent-%COMP%]{font-size:16px}}@media (max-height: 600px){.login-container[_ngcontent-%COMP%]{padding:10px}.demo-credentials[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px}}"]});let n=a;return n})();export{U as LoginPage};
