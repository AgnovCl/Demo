import{a as Q}from"./chunk-UZWYUGAE.js";import{$ as z,Ab as J,D as g,E as t,Eb as K,F as e,G as m,H as v,I as p,J as C,M as I,N as n,O as b,P as f,S as P,T as O,U as w,Wa as U,Y as S,Z as E,Za as D,bb as V,cb as A,ga as L,ib as N,lb as W,n as _,na as k,nb as B,o as u,ob as j,pa as F,pb as R,qb as G,sb as q,u as r,ua as T,w as M,xb as H,y,z as h}from"./chunk-KFCX55XD.js";import"./chunk-24WMRY7Q.js";import"./chunk-QUJFQN2Y.js";import"./chunk-PPLOLVG2.js";import"./chunk-WRVDKWF6.js";import"./chunk-YGW4HXY5.js";import"./chunk-BMJVVMK5.js";import"./chunk-S6AMPHJZ.js";import"./chunk-EEG35UFA.js";import"./chunk-WBVABYLX.js";import"./chunk-UD3XTG5V.js";import"./chunk-FOFIWYID.js";import"./chunk-JOTLW5X2.js";import"./chunk-3PF4GKYE.js";import"./chunk-BLSTF7EF.js";import"./chunk-3IVKBF6N.js";import"./chunk-M2X7KQLB.js";import"./chunk-UIFIQKDK.js";import"./chunk-42C7ZIID.js";import"./chunk-C5RQ2IC2.js";import"./chunk-AJI4VUU4.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-BKXINAYE.js";import"./chunk-CKP3SGE2.js";import"./chunk-XF2R5JSX.js";import"./chunk-2R6CW7ES.js";function X(s,l){s&1&&(t(0,"div",20),m(1,"ion-spinner",21),t(2,"p"),n(3,"Cargando ubicaciones..."),e()())}function Y(s,l){if(s&1){let a=v();t(0,"tr",22)(1,"td")(2,"strong"),n(3),e()(),t(4,"td"),n(5),e(),t(6,"td"),n(7),e(),t(8,"td"),n(9),e(),t(10,"td"),n(11),e(),t(12,"td")(13,"span",23),n(14),e()(),t(15,"td",24)(16,"ion-button",25),p("click",function(){let c=_(a).$implicit,o=C();return u(o.editarUbicacion(c))}),m(17,"ion-icon",26),n(18," Editar "),e(),t(19,"ion-button",27),p("click",function(){let c=_(a).$implicit,o=C();return u(o.cambiarEstado(c))}),m(20,"ion-icon",28),n(21),e()()()}if(s&2){let a=l.$implicit;r(3),b(a.nombre),r(2),b(a.descripcion),r(2),b(a.direccion),r(2),b(a.responsable),r(2),b(a.capacidad),r(2),I(a.estado==="activa"?"":"no-activo-fijo"),r(),f(" ",a.estado==="activa"?"Activa":"Inactiva"," "),r(5),g("color",a.estado==="activa"?"warning":"success"),r(),g("name",a.estado==="activa"?"close-circle":"checkmark-circle"),r(),f(" ",a.estado==="activa"?"Desactivar":"Activar"," ")}}function Z(s,l){if(s&1){let a=v();t(0,"div",29)(1,"p"),n(2,"No se encontraron ubicaciones con los filtros aplicados."),e(),t(3,"ion-button",30),p("click",function(){_(a);let c=C();return u(c.clearFilters())}),n(4," Limpiar filtros "),e()()}}var st=(()=>{let l=class l{constructor(i,c){this.ubicacionService=i,this.router=c,this.ubicaciones=[],this.ubicacionesFiltradas=[],this.isLoading=!1,this.searchTerm="",this.showInactivas=!1}ngOnInit(){this.loadUbicaciones()}loadUbicaciones(){this.isLoading=!0,this.ubicacionService.getUbicaciones().subscribe({next:i=>{this.ubicaciones=i,this.applyFilters(),this.isLoading=!1},error:i=>{console.error("Error cargando ubicaciones:",i),this.isLoading=!1}})}applyFilters(){this.ubicacionesFiltradas=this.ubicaciones.filter(i=>{let c=!this.searchTerm||i.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())||i.descripcion&&i.descripcion.toLowerCase().includes(this.searchTerm.toLowerCase())||i.responsable&&i.responsable.toLowerCase().includes(this.searchTerm.toLowerCase()),o=this.showInactivas||i.estado==="activa";return c&&o})}onSearch(){this.applyFilters()}clearFilters(){this.searchTerm="",this.showInactivas=!1,this.applyFilters()}toggleInactivas(){this.showInactivas=!this.showInactivas,this.applyFilters()}editarUbicacion(i){alert("Editar ubicaci\xF3n: "+i.nombre)}cambiarEstado(i){alert((i.estado==="activa"?"Desactivar":"Activar")+" ubicaci\xF3n: "+i.nombre)}};l.\u0275fac=function(c){return new(c||l)(M(Q),M(L))},l.\u0275cmp=y({type:l,selectors:[["app-ubicaciones-list"]],decls:47,vars:6,consts:[[1,"page-container"],[1,"section-header"],[1,"filters-section","ion-padding"],["lines","none",1,"search-box"],["name","search-outline","slot","start"],["placeholder","Buscar por nombre, descripci\xF3n o responsable","clearInput","",3,"ngModelChange","ionInput","ngModel"],[1,"filters-row"],["size","12","size-md","4"],["lines","none"],[3,"ngModelChange","ionChange","ngModel"],["size","12","size-md","8",1,"ion-text-end","ion-align-self-end"],["color","danger","fill","outline",3,"click"],["name","trash-outline","slot","start"],["class","loading",4,"ngIf"],[1,"products-table-container"],[1,"table-header"],[1,"table-responsive"],[1,"products-table"],["class","product-row",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],[1,"loading"],["name","crescent"],[1,"product-row"],[1,"status-badge"],[1,"actions"],["color","primary","size","small",3,"click"],["name","create","slot","start"],["size","small",3,"click","color"],["slot","start",3,"name"],[1,"no-results"],["color","medium",3,"click"]],template:function(c,o){c&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),n(3,"\u{1F4CD} Gesti\xF3n de Ubicaciones"),e(),t(4,"p"),n(5,"Administra bodegas y ubicaciones f\xEDsicas del inventario"),e()(),t(6,"ion-card",2)(7,"ion-item",3),m(8,"ion-icon",4),t(9,"ion-input",5),w("ngModelChange",function(d){return O(o.searchTerm,d)||(o.searchTerm=d),d}),p("ionInput",function(){return o.onSearch()}),e()(),t(10,"ion-grid",6)(11,"ion-row")(12,"ion-col",7)(13,"ion-item",8)(14,"ion-label"),n(15,"Mostrar inactivas"),e(),t(16,"ion-toggle",9),w("ngModelChange",function(d){return O(o.showInactivas,d)||(o.showInactivas=d),d}),p("ionChange",function(){return o.toggleInactivas()}),e()()(),t(17,"ion-col",10)(18,"ion-button",11),p("click",function(){return o.clearFilters()}),m(19,"ion-icon",12),n(20," Limpiar Filtros "),e()()()()(),h(21,X,4,0,"div",13),t(22,"ion-card",14)(23,"div",15)(24,"h3"),n(25),e()(),t(26,"div",16)(27,"table",17)(28,"thead")(29,"tr")(30,"th"),n(31,"Nombre"),e(),t(32,"th"),n(33,"Descripci\xF3n"),e(),t(34,"th"),n(35,"Direcci\xF3n"),e(),t(36,"th"),n(37,"Responsable"),e(),t(38,"th"),n(39,"Capacidad"),e(),t(40,"th"),n(41,"Estado"),e(),t(42,"th"),n(43,"Acciones"),e()()(),t(44,"tbody"),h(45,Y,22,11,"tr",18),e()()(),h(46,Z,5,0,"div",19),e()()),c&2&&(r(9),P("ngModel",o.searchTerm),r(7),P("ngModel",o.showInactivas),r(5),g("ngIf",o.isLoading),r(4),f("Ubicaciones encontradas: ",o.ubicacionesFiltradas.length),r(20),g("ngForOf",o.ubicacionesFiltradas),r(),g("ngIf",o.ubicacionesFiltradas.length===0&&!o.isLoading))},dependencies:[z,S,E,T,k,F,K,V,A,N,W,B,j,R,G,q,H,J,U,D],styles:[".page-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center;background:var(--bg-primary);border-radius:var(--border-radius);box-shadow:var(--shadow-light);padding:2rem 1rem;border:1px solid var(--border-color)}.section-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--text-primary);margin:0 0 8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--text-secondary);margin:0}.filters-section[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:var(--border-radius);box-shadow:var(--shadow-light);border:1px solid var(--border-color);margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{width:100%}ion-item.search-box[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:var(--border-radius-sm);background:var(--bg-secondary);--background: var(--bg-secondary);--border-radius: var(--border-radius-sm);--padding-start: 8px;--padding-end: 8px}.filters-row[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: var(--bg-primary);--border-radius: 12px;--box-shadow: 0 2px 8px rgba(0,0,0,.06);--padding-start: 12px;--padding-end: 12px;--min-height: 48px;margin:0;border:1.5px solid #e0e0e0;box-shadow:0 2px 8px #0000000f;transition:box-shadow .2s;display:flex;align-items:center;min-height:48px;box-sizing:border-box}.filters-row[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:focus-within{box-shadow:0 4px 16px #667eea1f;border-color:var(--primary-color)}.filters-row[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{flex:1 0 40%;margin-bottom:0;font-size:15px;font-weight:600;color:var(--text-primary)!important;--ion-text-color: var(--text-primary) !important}.filters-row[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex:2 1 60%;min-width:0;--padding-start: 0;--padding-end: 0;--ion-text-color: var(--text-primary) !important;color:var(--text-primary)!important}.filters-row[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){color:var(--primary-color);font-size:22px}.filters-row[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px var(--primary-color)}.filters-row[_ngcontent-%COMP%]   ion-select-option[_ngcontent-%COMP%]{font-size:15px}.filters-row[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]::part(placeholder), .filters-row[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(placeholder){color:var(--text-muted)!important;opacity:1!important}ion-button[color=danger][_ngcontent-%COMP%]{margin-top:8px}.products-table-container[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:var(--border-radius);box-shadow:var(--shadow-light);border:1px solid var(--border-color);overflow:hidden;margin-bottom:32px}.table-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary)}.table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:18px}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.products-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:16px 12px;text-align:left;font-weight:600;color:var(--text-primary);border-bottom:2px solid var(--border-color);white-space:nowrap}.products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 12px;border-bottom:1px solid var(--border-color);vertical-align:middle}.products-table[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.products-table[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary)}.products-table[_ngcontent-%COMP%]   .serial-number[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:13px;color:var(--primary-color)}.products-table[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary);max-width:200px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:13px;font-weight:600;background:#eafaf1;color:#27ae60}.status-badge.no-activo-fijo[_ngcontent-%COMP%]{background:#fdeaea;color:#e74c3c}ion-button[size=small][_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;font-size:14px}.no-results[_ngcontent-%COMP%]{text-align:center;padding:24px 0 16px;color:var(--text-secondary)}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px}.loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto 16px;color:var(--primary-color)}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:16px}@media (max-width: 1024px){.page-container[_ngcontent-%COMP%]{padding:16px}.filters-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.products-table[_ngcontent-%COMP%]{font-size:13px}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.products-table[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:150px}}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.filters-section[_ngcontent-%COMP%]{padding:16px}.filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.table-responsive[_ngcontent-%COMP%]{font-size:12px}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 4px;font-size:12px}.products-table[_ngcontent-%COMP%]   .serial-number[_ngcontent-%COMP%]{font-size:11px}.products-table[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:120px}}@media (max-width: 480px){.page-container[_ngcontent-%COMP%]{padding:12px}.section-header[_ngcontent-%COMP%]{margin-bottom:20px}.section-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.filters-section[_ngcontent-%COMP%]{padding:12px}.search-input[_ngcontent-%COMP%]{font-size:16px}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 2px;font-size:11px}.products-table[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{padding:4px 8px;font-size:11px}}[_nghost-%COMP%]     .filters-row ion-label, [_nghost-%COMP%]     .filters-row ion-select, [_nghost-%COMP%]     .filters-row ion-input, [_nghost-%COMP%]     .filters-row .native-input.sc-ion-input-md{color:var(--text-primary)!important;--ion-text-color: var(--text-primary) !important}"]});let s=l;return s})();export{st as UbicacionesListPage};
