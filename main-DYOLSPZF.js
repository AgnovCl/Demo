import{a as ke}from"./chunk-BDNWTLA3.js";import{b as Zt}from"./chunk-SOLGGFDN.js";import{$ as Vt,A as qt,Aa as it,B as Ln,Ba as ot,Ca as rt,Da as st,Ea as Xn,Eb as oi,Fa as Jn,G as $n,Ga as ei,Ha as at,I as Ht,Ia as lt,Ja as ct,Ka as dt,La as _e,Ma as ut,Na as Ne,Oa as ti,Pa as ni,Qa as Te,Sa as Gt,Ta as pt,Ua as ii,Va as Yt,aa as qn,ba as Hn,ca as Vn,da as Kn,fa as Wn,ga as Ce,h as R,i as ae,j as te,ja as Gn,k as ge,l as On,m as Ye,p as Ze,q as Ue,r as Lt,t as Nn,v as zn,w as Qe,wa as tt,x as Bn,xa as Un,y as $t,ya as le,za as Qn}from"./chunk-KFCX55XD.js";import{a as Qt}from"./chunk-2YSZFPCQ.js";import{a as li}from"./chunk-57YRIO75.js";import{a as xe,c as ri,d as mt,g as si,h as Ut,i as ai}from"./chunk-IYP5YUCN.js";import"./chunk-24WMRY7Q.js";import"./chunk-QUJFQN2Y.js";import"./chunk-PPLOLVG2.js";import"./chunk-WRVDKWF6.js";import"./chunk-YGW4HXY5.js";import"./chunk-BMJVVMK5.js";import"./chunk-S6AMPHJZ.js";import"./chunk-EEG35UFA.js";import"./chunk-WBVABYLX.js";import"./chunk-UD3XTG5V.js";import"./chunk-FOFIWYID.js";import"./chunk-JOTLW5X2.js";import{a as x,g as Je,h as et}from"./chunk-3PF4GKYE.js";import{a as Ee,c as Kt,d as Y,e as we,h as q,i as De}from"./chunk-BLSTF7EF.js";import{b as Xe,c as Yn,d as Zn,f as G,g as de,i as Oe}from"./chunk-3IVKBF6N.js";import{c as nt}from"./chunk-M2X7KQLB.js";import"./chunk-UIFIQKDK.js";import{a as Fe}from"./chunk-42C7ZIID.js";import{a as Wt,e as Se}from"./chunk-C5RQ2IC2.js";import"./chunk-AJI4VUU4.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-BKXINAYE.js";import"./chunk-CKP3SGE2.js";import"./chunk-XF2R5JSX.js";import{a as he,b as Bt,d as Fn,g as V}from"./chunk-2R6CW7ES.js";var ui=(()=>{let e=class e{constructor(n,o){this.authService=n,this.router=o,this.currentUser=null,this.showUserMenu=!1,this.isDarkMode=!1,this.currentUser=this.authService.getCurrentUser(),this.isDarkMode=this.getInitialDarkMode(),this.applyDarkMode()}get userInitials(){return this.currentUser?((this.currentUser.nombre?.charAt(0)||"")+(this.currentUser.apellido?.charAt(0)||"")).toUpperCase():""}toggleUserMenu(){this.showUserMenu=!this.showUserMenu}onDocumentClick(n){n.target.closest(".user-menu")||(this.showUserMenu=!1)}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToProfile(){alert("Ir a perfil de usuario (por implementar)")}goToSettings(){alert("Ir a configuraci\xF3n (por implementar)")}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,localStorage.setItem("dark_mode",this.isDarkMode?"1":"0"),this.applyDarkMode()}getInitialDarkMode(){let n=localStorage.getItem("dark_mode");return n!==null?n==="1":window.matchMedia("(prefers-color-scheme: dark)").matches}applyDarkMode(){this.isDarkMode?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}};e.\u0275fac=function(o){return new(o||e)(Qe(ke),Qe(Ce))},e.\u0275cmp=$t({type:e,selectors:[["app-root"]],hostBindings:function(o,r){o&1&&Ht("click",function(a){return r.onDocumentClick(a)},Nn)},decls:1,vars:0,template:function(o,r){o&1&&$n(0,"router-outlet")},dependencies:[Wn,Vt,oi],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-background-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}body.dark-mode[_ngcontent-%COMP%]{--bg-primary: #232b36 !important;--bg-secondary: #2d3748 !important;--text-primary: #ecf0f1 !important;--text-secondary: #bdc3c7 !important}.main-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:var(--bg-secondary)}.sidebar[_ngcontent-%COMP%]{width:250px;background:var(--bg-primary);box-shadow:2px 0 16px #00000012;display:flex;flex-direction:column;align-items:center;padding:2rem 1rem 1rem;z-index:10}.sidebar-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;margin-bottom:2rem;font-size:1.3rem;font-weight:700;color:var(--primary-color)}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain}.sidebar-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%}.sidebar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;padding:.8rem 1rem;border-radius:8px;color:var(--text-primary);font-weight:500;text-decoration:none;font-size:1rem;transition:background .2s,color .2s}.sidebar-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--primary-gradient);color:#fff}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0}.topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:var(--bg-primary);padding:1rem 2rem;box-shadow:0 2px 10px #00000012;position:sticky;top:0;z-index:20}.topbar-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:var(--primary-color)}.topbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.darkmode-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--primary-color);transition:color .2s}.darkmode-btn[_ngcontent-%COMP%]:hover{color:#764ba2}.user-menu[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.7rem;cursor:pointer}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;background:var(--primary-gradient);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem}.user-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary)}.user-dropdown[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.user-dropdown-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:120%;background:var(--bg-primary);box-shadow:0 8px 32px #00000021;border-radius:12px;min-width:220px;padding:1rem;z-index:100;display:flex;flex-direction:column;gap:.7rem;animation:_ngcontent-%COMP%_fadeIn .2s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;margin-bottom:.5rem}.user-avatar-lg[_ngcontent-%COMP%]{width:48px;height:48px;background:var(--primary-gradient);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.3rem}.user-fullname[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.user-email[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.user-role[_ngcontent-%COMP%]{font-size:.85rem;color:var(--primary-color);font-weight:500}.user-dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-primary);font-size:1rem;text-align:left;padding:.5rem 0;cursor:pointer;border-radius:6px;transition:background .2s}.user-dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.page-content[_ngcontent-%COMP%]{flex:1;padding:2rem;background:var(--bg-secondary);min-height:0;overflow-x:auto}@media (max-width: 900px){.main-layout[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{flex-direction:row;width:100%;height:60px;padding:0 1rem;justify-content:space-between;align-items:center}.sidebar-logo[_ngcontent-%COMP%]{margin-bottom:0}.sidebar-nav[_ngcontent-%COMP%]{flex-direction:row;gap:.5rem}.sidebar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem .7rem}}@media (max-width: 600px){.topbar[_ngcontent-%COMP%]{flex-direction:column;gap:.7rem;padding:.7rem 1rem}.page-content[_ngcontent-%COMP%]{padding:1rem}}"]});let i=e;return i})();var k=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(k||{}),ne="*";function pi(i,e=null){return{type:k.Sequence,steps:i,options:e}}function Xt(i){return{type:k.Style,styles:i,offset:null}}var ue=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Pe=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,n=0,o=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==r&&this._onFinish()}),s.onDestroy(()=>{++n==r&&this._onDestroy()}),s.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let o=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(o)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Be="!";function mi(i){return new R(3e3,!1)}function Ro(){return new R(3100,!1)}function Fo(){return new R(3101,!1)}function Oo(i){return new R(3001,!1)}function No(i){return new R(3003,!1)}function zo(i){return new R(3004,!1)}function hi(i,e){return new R(3005,!1)}function gi(){return new R(3006,!1)}function vi(){return new R(3007,!1)}function yi(i,e){return new R(3008,!1)}function bi(i){return new R(3002,!1)}function Ii(i,e,t,n,o){return new R(3010,!1)}function Ci(){return new R(3011,!1)}function Ei(){return new R(3012,!1)}function wi(){return new R(3200,!1)}function Di(){return new R(3202,!1)}function Si(){return new R(3013,!1)}function _i(i){return new R(3014,!1)}function Ti(i){return new R(3015,!1)}function ki(i){return new R(3016,!1)}function xi(i,e){return new R(3404,!1)}function Bo(i){return new R(3502,!1)}function Pi(i){return new R(3503,!1)}function Mi(){return new R(3300,!1)}function Ai(i){return new R(3504,!1)}function ji(i){return new R(3301,!1)}function Ri(i,e){return new R(3302,!1)}function Fi(i){return new R(3303,!1)}function Oi(i,e){return new R(3400,!1)}function Ni(i){return new R(3401,!1)}function zi(i){return new R(3402,!1)}function Bi(i,e){return new R(3505,!1)}function pe(i){switch(i.length){case 0:return new ue;case 1:return i[0];default:return new Pe(i)}}function nn(i,e,t=new Map,n=new Map){let o=[],r=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((h,m)=>{let p=m,f=h;if(m!=="offset")switch(p=i.normalizePropertyName(p,o),f){case Be:f=t.get(m);break;case ne:f=n.get(m);break;default:f=i.normalizeStyleValue(m,p,f,o);break}d.set(p,f)}),u||r.push(d),a=d,s=c}),o.length)throw Bo(o);return r}function ft(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&Jt(t,"start",i)));break;case"done":i.onDone(()=>n(t&&Jt(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&Jt(t,"destroy",i)));break}}function Jt(i,e,t){let n=t.totalTime,o=!!t.disabled,r=ht(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n??i.totalTime,o),s=i._data;return s!=null&&(r._data=s),r}function ht(i,e,t,n,o="",r=0,s){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:o,totalTime:r,disabled:!!s}}function U(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function on(i){let e=i.indexOf(":"),t=i.substring(1,e),n=i.slice(e+1);return[t,n]}var Lo=typeof document>"u"?null:document.documentElement;function gt(i){let e=i.parentNode||i.host||null;return e===Lo?null:e}function $o(i){return i.substring(1,6)=="ebkit"}var ve=null,fi=!1;function Li(i){ve||(ve=qo()||{},fi=ve.style?"WebkitAppearance"in ve.style:!1);let e=!0;return ve.style&&!$o(i)&&(e=i in ve.style,!e&&fi&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in ve.style)),e}function qo(){return typeof document<"u"?document.body:null}function rn(i,e){for(;e;){if(e===i)return!0;e=gt(e)}return!1}function sn(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let n=i.querySelector(e);return n?[n]:[]}var Ho=1e3,an="{{",Vo="}}",ln="ng-enter",vt="ng-leave",Le="ng-trigger",$e=".ng-trigger",cn="ng-animating",yt=".ng-animating";function ce(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:en(parseFloat(e[1]),e[2])}function en(i,e){switch(e){case"s":return i*Ho;default:return i}}function qe(i,e,t){return i.hasOwnProperty("duration")?i:Ko(i,e,t)}function Ko(i,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,r=0,s="";if(typeof i=="string"){let a=i.match(n);if(a===null)return e.push(mi(i)),{duration:0,delay:0,easing:""};o=en(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(r=en(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else o=i;if(!t){let a=!1,l=e.length;o<0&&(e.push(Ro()),a=!0),r<0&&(e.push(Fo()),a=!0),a&&e.splice(l,0,mi(i))}return{duration:o,delay:r,easing:s}}function $i(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function ie(i,e,t){e.forEach((n,o)=>{let r=bt(o);t&&!t.has(o)&&t.set(o,i.style[r]),i.style[r]=n})}function me(i,e){e.forEach((t,n)=>{let o=bt(n);i.style[o]=""})}function Me(i){return Array.isArray(i)?i.length==1?i[0]:pi(i):i}function qi(i,e,t){let n=e.params||{},o=dn(i);o.length&&o.forEach(r=>{n.hasOwnProperty(r)||t.push(Oo(r))})}var tn=new RegExp(`${an}\\s*(.+?)\\s*${Vo}`,"g");function dn(i){let e=[];if(typeof i=="string"){let t;for(;t=tn.exec(i);)e.push(t[1]);tn.lastIndex=0}return e}function Ae(i,e,t){let n=`${i}`,o=n.replace(tn,(r,s)=>{let a=e[s];return a==null&&(t.push(No(s)),a=""),a.toString()});return o==n?i:o}var Wo=/-+([a-z0-9])/g;function bt(i){return i.replace(Wo,(...e)=>e[1].toUpperCase())}function Hi(i,e){return i===0||e===0}function Vi(i,e,t){if(t.size&&e.length){let n=e[0],o=[];if(t.forEach((r,s)=>{n.has(s)||o.push(s),n.set(s,r)}),o.length)for(let r=1;r<e.length;r++){let s=e[r];o.forEach(a=>s.set(a,It(i,a)))}}return e}function Q(i,e,t){switch(e.type){case k.Trigger:return i.visitTrigger(e,t);case k.State:return i.visitState(e,t);case k.Transition:return i.visitTransition(e,t);case k.Sequence:return i.visitSequence(e,t);case k.Group:return i.visitGroup(e,t);case k.Animate:return i.visitAnimate(e,t);case k.Keyframes:return i.visitKeyframes(e,t);case k.Style:return i.visitStyle(e,t);case k.Reference:return i.visitReference(e,t);case k.AnimateChild:return i.visitAnimateChild(e,t);case k.AnimateRef:return i.visitAnimateRef(e,t);case k.Query:return i.visitQuery(e,t);case k.Stagger:return i.visitStagger(e,t);default:throw zo(e.type)}}function It(i,e){return window.getComputedStyle(i)[e]}var Tn=(()=>{class i{validateStyleProperty(t){return Li(t)}containsElement(t,n){return rn(t,n)}getParentElement(t){return gt(t)}query(t,n,o){return sn(t,n,o)}computeStyle(t,n,o){return o||""}animate(t,n,o,r,s,a=[],l){return new ue(o,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ae({token:i,factory:i.\u0275fac})}return i})(),be=class{static NOOP=new Tn},Ie=class{};var Go=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),St=class extends Ie{normalizePropertyName(e,t){return bt(e)}normalizeStyleValue(e,t,n,o){let r="",s=n.toString().trim();if(Go.has(t)&&n!==0&&n!=="0")if(typeof n=="number")r="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&o.push(hi(e,n))}return s+r}};var _t="*";function Yo(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>Zo(n,t,e)):t.push(i),t}function Zo(i,e,t){if(i[0]==":"){let l=Uo(i,t);if(typeof l=="function"){e.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(Ti(i)),e;let o=n[1],r=n[2],s=n[3];e.push(Ki(o,s));let a=o==_t&&s==_t;r[0]=="<"&&!a&&e.push(Ki(s,o))}function Uo(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(ki(i)),"* => *"}}var Ct=new Set(["true","1"]),Et=new Set(["false","0"]);function Ki(i,e){let t=Ct.has(i)||Et.has(i),n=Ct.has(e)||Et.has(e);return(o,r)=>{let s=i==_t||i==o,a=e==_t||e==r;return!s&&t&&typeof o=="boolean"&&(s=o?Ct.has(i):Et.has(i)),!a&&n&&typeof r=="boolean"&&(a=r?Ct.has(e):Et.has(e)),s&&a}}var to=":self",Qo=new RegExp(`s*${to}s*,?`,"g");function no(i,e,t,n){return new gn(i).build(e,t,n)}var Wi="",gn=class{_driver;constructor(e){this._driver=e}build(e,t,n){let o=new vn(t);return this._resetContextStyleTimingState(o),Q(this,Me(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector=Wi,e.collectedStyles=new Map,e.collectedStyles.set(Wi,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,o=t.depCount=0,r=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(gi()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==k.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,r.push(this.visitState(l,t))}),l.name=c}else if(a.type==k.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,o+=l.depCount,s.push(l)}else t.errors.push(vi())}),{type:k.Trigger,name:e.name,states:r,transitions:s,queryCount:n,depCount:o,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(n.containsDynamicStyles){let r=new Set,s=o||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{dn(l).forEach(c=>{s.hasOwnProperty(c)||r.add(c)})})}),r.size&&t.errors.push(yi(e.name,[...r.values()]))}return{type:k.State,name:e.name,style:n,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=Q(this,Me(e.animation),t),o=Yo(e.expr,t.errors);return{type:k.Transition,matchers:o,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:ye(e.options)}}visitSequence(e,t){return{type:k.Sequence,steps:e.steps.map(n=>Q(this,n,t)),options:ye(e.options)}}visitGroup(e,t){let n=t.currentTime,o=0,r=e.steps.map(s=>{t.currentTime=n;let a=Q(this,s,t);return o=Math.max(o,t.currentTime),a});return t.currentTime=o,{type:k.Group,steps:r,options:ye(e.options)}}visitAnimate(e,t){let n=tr(e.timings,t.errors);t.currentAnimateTimings=n;let o,r=e.styles?e.styles:Xt({});if(r.type==k.Keyframes)o=this.visitKeyframes(r,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=Xt(c)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,o=l}return t.currentAnimateTimings=null,{type:k.Animate,timings:n,style:o,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of o)typeof a=="string"?a===ne?n.push(a):t.errors.push(bi(a)):n.push(new Map(Object.entries(a)));let r=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!r)){for(let l of a.values())if(l.toString().indexOf(an)>=0){r=!0;break}}}),{type:k.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,o=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),d=!0;u&&(r!=o&&r>=u.startTime&&o<=u.endTime&&(t.errors.push(Ii(l,u.startTime,u.endTime,r,o)),d=!1),r=u.startTime),d&&c.set(l,{startTime:r,endTime:o}),t.options&&qi(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:k.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Ci()),n;let o=1,r=0,s=[],a=!1,l=!1,c=0,u=e.steps.map(E=>{let T=this._makeStyleAst(E,t),D=T.offset!=null?T.offset:er(T.styles),C=0;return D!=null&&(r++,C=T.offset=D),l=l||C<0||C>1,a=a||C<c,c=C,s.push(C),T});l&&t.errors.push(Ei()),a&&t.errors.push(wi());let d=e.steps.length,h=0;r>0&&r<d?t.errors.push(Di()):r==0&&(h=o/(d-1));let m=d-1,p=t.currentTime,f=t.currentAnimateTimings,v=f.duration;return u.forEach((E,T)=>{let D=h>0?T==m?1:h*T:s[T],C=D*v;t.currentTime=p+f.delay+C,f.duration=C,this._validateStyleAst(E,t),E.offset=D,n.styles.push(E)}),n}visitReference(e,t){return{type:k.Reference,animation:Q(this,Me(e.animation),t),options:ye(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:k.AnimateChild,options:ye(e.options)}}visitAnimateRef(e,t){return{type:k.AnimateRef,animation:this.visitReference(e.animation,t),options:ye(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;let[r,s]=Xo(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,U(t.collectedStyles,t.currentQuerySelector,new Map);let a=Q(this,Me(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:k.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ye(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Si());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:qe(e.timings,t.errors,!0);return{type:k.Stagger,animation:Q(this,Me(e.animation),t),timings:n,options:null}}};function Xo(i){let e=!!i.split(/\s*,\s*/).find(t=>t==to);return e&&(i=i.replace(Qo,"")),i=i.replace(/@\*/g,$e).replace(/@\w+/g,t=>$e+"-"+t.slice(1)).replace(/:animating/g,yt),[i,e]}function Jo(i){return i?he({},i):null}var vn=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function er(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function tr(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let r=qe(i,e).duration;return un(r,0,"")}let t=i;if(t.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=un(0,0,"");return r.dynamic=!0,r.strValue=t,r}let o=qe(t,e);return un(o.duration,o.delay,o.easing)}function ye(i){return i?(i=he({},i),i.params&&(i.params=Jo(i.params))):i={},i}function un(i,e,t){return{duration:i,delay:e,easing:t}}function kn(i,e,t,n,o,r,s=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}var Ve=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},nr=1,ir=":enter",or=new RegExp(ir,"g"),rr=":leave",sr=new RegExp(rr,"g");function io(i,e,t,n,o,r=new Map,s=new Map,a,l,c=[]){return new yn().buildKeyframes(i,e,t,n,o,r,s,a,l,c)}var yn=class{buildKeyframes(e,t,n,o,r,s,a,l,c,u=[]){c=c||new Ve;let d=new bn(e,t,c,o,r,u,[]);d.options=l;let h=l.delay?ce(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),Q(this,n,d);let m=d.timelines.filter(p=>p.containsAnimation());if(m.length&&a.size){let p;for(let f=m.length-1;f>=0;f--){let v=m[f];if(v.element===t){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return m.length?m.map(p=>p.buildKeyframes()):[kn(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let o=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,o,o.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let o of e){let r=o?.delay;if(r){let s=typeof r=="number"?r:ce(Ae(r,o?.params??{},t.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime,s=n.duration!=null?ce(n.duration):null,a=n.delay!=null?ce(n.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),Q(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,o=t,r=e.options;if(r&&(r.params||r.delay)&&(o=t.createSubContext(r),o.transformIntoNewTimeline(),r.delay!=null)){o.previousNode.type==k.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Tt);let s=ce(r.delay);o.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Q(this,s,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],o=t.currentTimeline.currentTime,r=e.options&&e.options.delay?ce(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);r&&a.delayNextStep(r),Q(this,s,a),o=Math.max(o,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,o=t.params?Ae(n,t.params,t.errors):n;return qe(o,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),o.snapshotCurrentStyles());let r=e.style;r.type==k.Keyframes?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,o=t.currentAnimateTimings;!o&&n.hasCurrentStyleProperties()&&n.forwardFrame();let r=o&&o.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,o=t.currentTimeline.duration,r=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*r),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(o+r),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,o=e.options||{},r=o.delay?ce(o.delay):0;r&&(t.previousNode.type===k.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Tt);let s=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,c);r&&d.delayNextStep(r),c===t.element&&(l=d.currentTimeline),Q(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,o=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Q(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=o.currentTime-d+(o.startTime-n.currentTimeline.startTime)}},Tt={},bn=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Tt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,o,r,s,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=r,this.errors=s,this.timelines=a,this.currentTimeline=l||new kt(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,o=this.options;n.duration!=null&&(o.duration=ce(n.duration)),n.delay!=null&&(o.delay=ce(n.delay));let r=n.params;if(r){let s=o.params;s||(s=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ae(r[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(o=>{n[o]=t[o]})}}return e}createSubContext(e=null,t,n){let o=t||this.element,r=new i(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=Tt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},r=new In(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,o,r,s){let a=[];if(o&&a.push(this.element),e.length>0){e=e.replace(or,"."+this._enterClassName),e=e.replace(sr,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!r&&a.length==0&&s.push(_i(t)),a}},kt=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,o){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=nr,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||ne),this._currentKeyframe.set(t,ne);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,o){t&&this._previousKeyframe.set("easing",t);let r=o&&o.params||{},s=ar(e,this._globalTimelineStyles);for(let[a,l]of s){let c=Ae(l,r,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ne),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let o=this._styleSummary.get(n);(!o||t.time>o.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Be?e.add(d):u===ne&&t.add(d)}),n||c.set("offset",l/this.duration),o.push(c)});let r=[...e.values()],s=[...t.values()];if(n){let a=o[0],l=new Map(a);a.set("offset",0),l.set("offset",1),o=[a,l]}return kn(this.element,o,r,s,this.duration,this.startTime,this.easing,!1)}},In=class extends kt{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,o,r,s,a=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],s=n+t,a=t/s,l=new Map(e[0]);l.set("offset",0),r.push(l);let c=new Map(e[0]);c.set("offset",Gi(a)),r.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),m=h.get("offset"),p=t+m*n;h.set("offset",Gi(p/s)),r.push(h)}n=s,t=0,o="",e=r}return kn(this.element,e,this.preStyleProps,this.postStyleProps,n,t,o,!0)}};function Gi(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function ar(i,e){let t=new Map,n;return i.forEach(o=>{if(o==="*"){n??=e.keys();for(let r of n)t.set(r,ne)}else for(let[r,s]of o)t.set(r,s)}),t}function Yi(i,e,t,n,o,r,s,a,l,c,u,d,h){return{type:0,element:i,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:r,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var pn={},xt=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,o){return lr(this.ast.matchers,e,t,n,o)}buildStyles(e,t,n){let o=this._stateStyles.get("*");return e!==void 0&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,n):new Map}build(e,t,n,o,r,s,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||pn,m=a&&a.params||pn,p=this.buildStyles(n,m,d),f=l&&l.params||pn,v=this.buildStyles(o,f,d),E=new Set,T=new Map,D=new Map,C=o==="void",F={params:oo(f,h),delay:this.ast.options?.delay},w=u?[]:io(e,t,this.ast.animation,r,s,p,v,F,c,d),M=0;return w.forEach(A=>{M=Math.max(A.duration+A.delay,M)}),d.length?Yi(t,this._triggerName,n,o,C,p,v,[],[],T,D,M,d):(w.forEach(A=>{let z=A.element,H=U(T,z,new Set);A.preStyleProps.forEach(O=>H.add(O));let $=U(D,z,new Set);A.postStyleProps.forEach(O=>$.add(O)),z!==t&&E.add(z)}),Yi(t,this._triggerName,n,o,C,p,v,w,[...E.values()],T,D,M))}};function lr(i,e,t,n,o){return i.some(r=>r(e,t,n,o))}function oo(i,e){let t=he({},e);return Object.entries(i).forEach(([n,o])=>{o!=null&&(t[n]=o)}),t}var Cn=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,o=oo(e,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,a)=>{s&&(s=Ae(s,o,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),n.set(a,s)})}),n}};function cr(i,e,t){return new En(i,e,t)}var En=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(o=>{let r=o.options&&o.options.params||{};this.states.set(o.name,new Cn(o.style,r,n))}),Zi(this.states,"true","1"),Zi(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new xt(e,o,this.states))}),this.fallbackTransition=dr(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,o){return this.transitionFactories.find(s=>s.match(e,t,n,o))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function dr(i,e,t){let n=[(s,a)=>!0],o={type:k.Sequence,steps:[],options:null},r={type:k.Transition,animation:o,matchers:n,options:null,queryCount:0,depCount:0};return new xt(i,r,e)}function Zi(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var ur=new Ve,wn=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],o=[],r=no(this._driver,t,n,o);if(n.length)throw Pi(n);this._animations.set(e,r)}_buildPlayer(e,t,n){let o=e.element,r=nn(this._normalizer,e.keyframes,t,n);return this._driver.animate(o,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let o=[],r=this._animations.get(e),s,a=new Map;if(r?(s=io(this._driver,t,r,ln,vt,new Map,new Map,n,ur,o),s.forEach(u=>{let d=U(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(o.push(Mi()),s=[]),o.length)throw Ai(o);a.forEach((u,d)=>{u.forEach((h,m)=>{u.set(m,this._driver.computeStyle(d,m,ne))})});let l=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=pe(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw ji(e);return t}listen(e,t,n,o){let r=ht(t,"","","");return ft(this._getPlayer(e),n,r,o),()=>{}}command(e,t,n,o){if(n=="register"){this.register(e,o[0]);return}if(n=="create"){let s=o[0]||{};this.create(e,t,s);return}let r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e);break}}},Ui="ng-animate-queued",pr=".ng-animate-queued",mn="ng-animate-disabled",mr=".ng-animate-disabled",fr="ng-star-inserted",hr=".ng-star-inserted",gr=[],ro={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oe="__ng_removed",Ke=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),o=n?e.value:e;if(this.value=br(o),n){let r=e,{value:s}=r,a=Fn(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(o=>{n[o]==null&&(n[o]=t[o])})}}},He="void",fn=new Ke(He),Dn=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,X(t,this._hostClassName)}listen(e,t,n,o){if(!this._triggers.has(t))throw Ri(n,t);if(n==null||n.length==0)throw Fi(t);if(!Ir(n))throw Oi(n,t);let r=U(this._elementListeners,e,[]),s={name:t,phase:n,callback:o};r.push(s);let a=U(this._engine.statesByElement,e,new Map);return a.has(t)||(X(e,Le),X(e,Le+"-"+t),a.set(t,fn)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(s);l>=0&&r.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Ni(e);return t}trigger(e,t,n,o=!0){let r=this._getTrigger(t),s=new We(this.id,t,e),a=this._engine.statesByElement.get(e);a||(X(e,Le),X(e,Le+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Ke(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=fn),!(c.value===He)&&l.value===c.value){if(!wr(l.params,c.params)){let f=[],v=r.matchStyles(l.value,l.params,f),E=r.matchStyles(c.value,c.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(()=>{me(e,v),ie(e,E)})}return}let h=U(this._engine.playersByElement,e,[]);h.forEach(f=>{f.namespaceId==this.id&&f.triggerName==t&&f.queued&&f.destroy()});let m=r.matchTransition(l.value,c.value,e,c.params),p=!1;if(!m){if(!o)return;m=r.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(X(e,Ui),s.onStart(()=>{je(e,Ui)})),s.onDone(()=>{let f=this.players.indexOf(s);f>=0&&this.players.splice(f,1);let v=this._engine.playersByElement.get(e);if(v){let E=v.indexOf(s);E>=0&&v.splice(E,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,$e,!0);n.forEach(o=>{if(o[oe])return;let r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(s=>s.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,n,o){let r=this._engine.statesByElement.get(e),s=new Map;if(r){let a=[];if(r.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,He,o);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&pe(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let o=new Set;t.forEach(r=>{let s=r.name;if(o.has(s))return;o.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||fn,u=new Ke(He),d=new We(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(n.totalAnimations){let r=n.players.length?n.playersByQueriedElement.get(e):[];if(r&&r.length)o=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)n.markElementAsRemoved(this.id,e,!1,t);else{let r=e[oe];(!r||r===ro)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){X(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let o=n.player;if(o.destroyed)return;let r=n.element,s=this._elementListeners.get(r);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=ht(r,n.triggerName,n.fromState.value,n.toState.value);l._data=e,ft(n.player,a.phase,l,a.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(n)}),this._queue=[],t.sort((n,o)=>{let r=n.transition.ast.depCount,s=o.transition.ast.depCount;return r==0||s==0?r-s:this._engine.driver.containsElement(n.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Sn=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new Dn(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,o=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=o.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return o.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let o=this._namespaceLookup[e];o&&o.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let o=this._namespaceList.indexOf(n);o>=0&&this._namespaceList.splice(o,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let o of n.values())if(o.namespaceId){let r=this._fetchNamespace(o.namespaceId);r&&t.add(r)}}return t}trigger(e,t,n,o){if(wt(t)){let r=this._fetchNamespace(e);if(r)return r.trigger(t,n,o),!0}return!1}insertNode(e,t,n,o){if(!wt(t))return;let r=t[oe];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,n)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),X(e,mn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),je(e,mn))}removeNode(e,t,n){if(wt(t)){let o=e?this._fetchNamespace(e):null;o?o.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,o,r){this.collectedLeaveElements.push(t),t[oe]={namespaceId:e,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,n,o,r){return wt(t)?this._fetchNamespace(e).listen(t,n,o,r):()=>{}}_buildInstruction(e,t,n,o,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,o,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,$e,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,yt,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return pe(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[oe];if(t&&t.setForRemoval){if(e[oe]=ro,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(mn)&&this.markElementAsDisabled(e,!1),this.driver.query(e,mr,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,o)=>this._balanceNamespaceList(n,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let o=this.collectedEnterElements[n];X(o,fr)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let o=0;o<n.length;o++)n[o]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let o=this.collectedLeaveElements[n];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?pe(t).onDone(()=>{n.forEach(o=>o())}):n.forEach(o=>o())}}reportError(e){throw zi(e)}_flushAnimations(e,t){let n=new Ve,o=[],r=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(g=>{u.add(g);let y=this.driver.query(g,pr,!0);for(let b=0;b<y.length;b++)u.add(y[b])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),m=Ji(h,this.collectedEnterElements),p=new Map,f=0;m.forEach((g,y)=>{let b=ln+f++;p.set(y,b),g.forEach(P=>X(P,b))});let v=[],E=new Set,T=new Set;for(let g=0;g<this.collectedLeaveElements.length;g++){let y=this.collectedLeaveElements[g],b=y[oe];b&&b.setForRemoval&&(v.push(y),E.add(y),b.hasAnimation?this.driver.query(y,hr,!0).forEach(P=>E.add(P)):T.add(y))}let D=new Map,C=Ji(h,Array.from(E));C.forEach((g,y)=>{let b=vt+f++;D.set(y,b),g.forEach(P=>X(P,b))}),e.push(()=>{m.forEach((g,y)=>{let b=p.get(y);g.forEach(P=>je(P,b))}),C.forEach((g,y)=>{let b=D.get(y);g.forEach(P=>je(P,b))}),v.forEach(g=>{this.processLeaveNode(g)})});let F=[],w=[];for(let g=this._namespaceList.length-1;g>=0;g--)this._namespaceList[g].drainQueuedTransitions(t).forEach(b=>{let P=b.player,B=b.element;if(F.push(P),this.collectedEnterElements.length){let N=B[oe];if(N&&N.setForMove){if(N.previousTriggersValues&&N.previousTriggersValues.has(b.triggerName)){let L=N.previousTriggersValues.get(b.triggerName),W=this.statesByElement.get(b.element);if(W&&W.has(b.triggerName)){let se=W.get(b.triggerName);se.value=L,W.set(b.triggerName,se)}}P.destroy();return}}let K=!d||!this.driver.containsElement(d,B),S=D.get(B),_=p.get(B),I=this._buildInstruction(b,n,_,S,K);if(I.errors&&I.errors.length){w.push(I);return}if(K){P.onStart(()=>me(B,I.fromStyles)),P.onDestroy(()=>ie(B,I.toStyles)),o.push(P);return}if(b.isFallbackTransition){P.onStart(()=>me(B,I.fromStyles)),P.onDestroy(()=>ie(B,I.toStyles)),o.push(P);return}let j=[];I.timelines.forEach(N=>{N.stretchStartingKeyframe=!0,this.disabledNodes.has(N.element)||j.push(N)}),I.timelines=j,n.append(B,I.timelines);let ee={instruction:I,player:P,element:B};s.push(ee),I.queriedElements.forEach(N=>U(a,N,[]).push(P)),I.preStyleProps.forEach((N,L)=>{if(N.size){let W=l.get(L);W||l.set(L,W=new Set),N.forEach((se,fe)=>W.add(fe))}}),I.postStyleProps.forEach((N,L)=>{let W=c.get(L);W||c.set(L,W=new Set),N.forEach((se,fe)=>W.add(fe))})});if(w.length){let g=[];w.forEach(y=>{g.push(Bi(y.triggerName,y.errors))}),F.forEach(y=>y.destroy()),this.reportError(g)}let M=new Map,A=new Map;s.forEach(g=>{let y=g.element;n.has(y)&&(A.set(y,y),this._beforeAnimationBuild(g.player.namespaceId,g.instruction,M))}),o.forEach(g=>{let y=g.element;this._getPreviousPlayers(y,!1,g.namespaceId,g.triggerName,null).forEach(P=>{U(M,y,[]).push(P),P.destroy()})});let z=v.filter(g=>eo(g,l,c)),H=new Map;Xi(H,this.driver,T,c,ne).forEach(g=>{eo(g,l,c)&&z.push(g)});let O=new Map;m.forEach((g,y)=>{Xi(O,this.driver,new Set(g),l,Be)}),z.forEach(g=>{let y=H.get(g),b=O.get(g);H.set(g,new Map([...y?.entries()??[],...b?.entries()??[]]))});let Z=[],re=[],J={};s.forEach(g=>{let{element:y,player:b,instruction:P}=g;if(n.has(y)){if(u.has(y)){b.onDestroy(()=>ie(y,P.toStyles)),b.disabled=!0,b.overrideTotalTime(P.totalTime),o.push(b);return}let B=J;if(A.size>1){let S=y,_=[];for(;S=S.parentNode;){let I=A.get(S);if(I){B=I;break}_.push(S)}_.forEach(I=>A.set(I,B))}let K=this._buildAnimation(b.namespaceId,P,M,r,O,H);if(b.setRealPlayer(K),B===J)Z.push(b);else{let S=this.playersByElement.get(B);S&&S.length&&(b.parentPlayer=pe(S)),o.push(b)}}else me(y,P.fromStyles),b.onDestroy(()=>ie(y,P.toStyles)),re.push(b),u.has(y)&&o.push(b)}),re.forEach(g=>{let y=r.get(g.element);if(y&&y.length){let b=pe(y);g.setRealPlayer(b)}}),o.forEach(g=>{g.parentPlayer?g.syncPlayerEvents(g.parentPlayer):g.destroy()});for(let g=0;g<v.length;g++){let y=v[g],b=y[oe];if(je(y,vt),b&&b.hasAnimation)continue;let P=[];if(a.size){let K=a.get(y);K&&K.length&&P.push(...K);let S=this.driver.query(y,yt,!0);for(let _=0;_<S.length;_++){let I=a.get(S[_]);I&&I.length&&P.push(...I)}}let B=P.filter(K=>!K.destroyed);B.length?Cr(this,y,B):this.processLeaveNode(y)}return v.length=0,Z.forEach(g=>{this.players.push(g),g.onDone(()=>{g.destroy();let y=this.players.indexOf(g);this.players.splice(y,1)}),g.play()}),Z}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,o,r){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!r||r==He;a.forEach(c=>{c.queued||!l&&c.triggerName!=o||s.push(c)})}}return(n||o)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||o&&o!=a.triggerName))),s}_beforeAnimationBuild(e,t,n){let o=t.triggerName,r=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:o;for(let l of t.timelines){let c=l.element,u=c!==r,d=U(n,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(m=>{let p=m.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),m.destroy(),d.push(m)})}me(r,t.fromStyles)}_buildAnimation(e,t,n,o,r,s){let a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{let f=p.element;u.add(f);let v=f[oe];if(v&&v.removedBeforeQueried)return new ue(p.duration,p.delay);let E=f!==l,T=Er((n.get(f)||gr).map(M=>M.getRealPlayer())).filter(M=>{let A=M;return A.element?A.element===f:!1}),D=r.get(f),C=s.get(f),F=nn(this._normalizer,p.keyframes,D,C),w=this._buildPlayer(p,F,T);if(p.subTimeline&&o&&d.add(f),E){let M=new We(e,a,f);M.setRealPlayer(w),c.push(M)}return w});c.forEach(p=>{U(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>yr(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>X(p,cn));let m=pe(h);return m.onDestroy(()=>{u.forEach(p=>je(p,cn)),ie(l,t.toStyles)}),d.forEach(p=>{U(o,p,[]).push(m)}),m}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new ue(e.duration,e.delay)}},We=class{namespaceId;triggerName;element;_player=new ue;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(o=>ft(e,n,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){U(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function yr(i,e,t){let n=i.get(e);if(n){if(n.length){let o=n.indexOf(t);n.splice(o,1)}n.length==0&&i.delete(e)}return n}function br(i){return i??null}function wt(i){return i&&i.nodeType===1}function Ir(i){return i=="start"||i=="done"}function Qi(i,e){let t=i.style.display;return i.style.display=e??"none",t}function Xi(i,e,t,n,o){let r=[];t.forEach(l=>r.push(Qi(l)));let s=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,o);u.set(d,h),(!h||h.length==0)&&(c[oe]=vr,s.push(c))}),i.set(c,u)});let a=0;return t.forEach(l=>Qi(l,r[a++])),s}function Ji(i,e){let t=new Map;if(i.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,o=new Set(e),r=new Map;function s(a){if(!a)return n;let l=r.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:o.has(c)?l=n:l=s(c),r.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&t.get(l).push(a)}),t}function X(i,e){i.classList?.add(e)}function je(i,e){i.classList?.remove(e)}function Cr(i,e,t){pe(t).onDone(()=>i.processLeaveNode(e))}function Er(i){let e=[];return so(i,e),e}function so(i,e){for(let t=0;t<i.length;t++){let n=i[t];n instanceof Pe?so(n.players,e):e.push(n)}}function wr(i,e){let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let o=0;o<t.length;o++){let r=t[o];if(!e.hasOwnProperty(r)||i[r]!==e[r])return!1}return!0}function eo(i,e,t){let n=t.get(i);if(!n)return!1;let o=e.get(i);return o?n.forEach(r=>o.add(r)):e.set(i,n),t.delete(i),!0}var Re=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new Sn(e.body,t,n),this._timelineEngine=new wn(e.body,t,n),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r)}registerTrigger(e,t,n,o,r){let s=e+"-"+o,a=this._triggerCache[s];if(!a){let l=[],c=[],u=no(this._driver,r,l,c);if(l.length)throw xi(o,l);a=cr(o,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,o,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,o){this._transitionEngine.insertNode(e,t,n,o)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,o){if(n.charAt(0)=="@"){let[r,s]=on(n),a=o;this._timelineEngine.command(r,t,s,a)}else this._transitionEngine.trigger(e,t,n,o)}listen(e,t,n,o,r){if(n.charAt(0)=="@"){let[s,a]=on(n);return this._timelineEngine.listen(s,t,a,r)}return this._transitionEngine.listen(e,t,n,o,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Dr(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=hn(e[0]),e.length>1&&(n=hn(e[e.length-1]))):e instanceof Map&&(t=hn(e)),t||n?new Sr(i,t,n):null}var Sr=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,o){this._element=t,this._startStyles=n,this._endStyles=o;let r=i.initialStylesByElement.get(t);r||i.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ie(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ie(this._element,this._initialStyles),this._endStyles&&(ie(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(me(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(me(this._element,this._endStyles),this._endStyles=null),ie(this._element,this._initialStyles),this._state=3)}}return i})();function hn(i){let e=null;return i.forEach((t,n)=>{_r(n)&&(e=e||new Map,e.set(n,t))}),e}function _r(i){return i==="display"||i==="position"}var Pt=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,o){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=o,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,o)=>{o!=="offset"&&e.set(o,this._finished?n:It(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Mt=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return rn(e,t)}getParentElement(e){return gt(e)}query(e,t,n){return sn(e,t,n)}computeStyle(e,t,n){return It(e,t)}animate(e,t,n,o,r,s=[]){let a=o==0?"both":"forwards",l={duration:n,delay:o,fill:a};r&&(l.easing=r);let c=new Map,u=s.filter(m=>m instanceof Pt);Hi(n,o)&&u.forEach(m=>{m.currentSnapshot.forEach((p,f)=>c.set(f,p))});let d=$i(t).map(m=>new Map(m));d=Vi(e,d,c);let h=Dr(e,d);return new Pt(e,d,l,h)}};var Dt="@",ao="@.disabled",At=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,o){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,o=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,o){this.delegate.setAttribute(e,t,n,o)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,o){this.delegate.setStyle(e,t,n,o)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Dt&&t==ao?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,o){return this.delegate.listen(e,t,n,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},_n=class extends At{factory;constructor(e,t,n,o,r){super(t,n,o,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Dt?t.charAt(1)=="."&&t==ao?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,o){if(t.charAt(0)==Dt){let r=Tr(e),s=t.slice(1),a="";return s.charAt(0)!=Dt&&([s,a]=kr(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(e,t,n,o)}};function Tr(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function kr(i){let e=i.indexOf("."),t=i.substring(0,e),n=i.slice(e+1);return[t,n]}var jt=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(o,r)=>{r?.removeChild(null,o)}}createRenderer(e,t){let n="",o=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(o);if(!u){let d=()=>c.delete(o);u=new At(n,o,this.engine,d),c.set(o,u)}return u}let r=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(r,s,e,c.name,c)};return t.data.animation.forEach(a),new _n(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{let[s,a]=r;s(a)}),this._animationCallbacksBuffer=[]})}),o.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Pr=(()=>{class i extends Re{constructor(t,n,o){super(t,n,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(te(Ue),te(be),te(Ie))};static \u0275prov=ae({token:i,factory:i.\u0275fac})}return i})();function Mr(){return new St}function Ar(i,e,t){return new jt(i,e,t)}var lo=[{provide:Ie,useFactory:Mr},{provide:Re,useClass:Pr},{provide:zn,useFactory:Ar,deps:[qn,Re,qt]}],Vs=[{provide:be,useClass:Tn},{provide:Lt,useValue:"NoopAnimations"},...lo],jr=[{provide:be,useFactory:()=>new Mt},{provide:Lt,useFactory:()=>"BrowserAnimations"},...lo];function co(){return Bn("NgEagerAnimations"),[...jr]}var Rt=()=>{let i;return{lock:()=>V(null,null,function*(){let t=i,n;return i=new Promise(o=>n=o),t!==void 0&&(yield t),n})}};var Rr=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Fr=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Or=De(class extends Ee{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=q(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){let e=le(this);return Y(we,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:Rr,md:Fr}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Ft(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,Or);break}})}var Ge=function(i){return i.Dark="DARK",i.Light="LIGHT",i.Default="DEFAULT",i}(Ge||{}),An={getEngine(){let i=li();if(i?.isPluginAvailable("StatusBar"))return i.Plugins.StatusBar},setStyle(i){let e=this.getEngine();e&&e.setStyle(i)},getStyle:function(){return V(this,null,function*(){let i=this.getEngine();if(!i)return Ge.Default;let{style:e}=yield i.getInfo();return e})}},xn=(i,e)=>{if(e===1)return 0;let t=1/(1-e),n=-(e*t);return i*t+n},fo=()=>{!Fe||Fe.innerWidth>=768||An.setStyle({style:Ge.Dark})},Pn=(i=Ge.Default)=>{!Fe||Fe.innerWidth>=768||An.setStyle({style:i})},ho=(i,e)=>V(null,null,function*(){typeof i.canDismiss!="function"||!(yield i.canDismiss(void 0,Ne))||(e.isRunning()?e.onFinish(()=>{i.dismiss(void 0,"handler")},{oneTimeCallback:!0}):i.dismiss(void 0,"handler"))}),Mn=i=>.00255275*2.71828**(-14.9619*i)-1.00255*2.71828**(-.0380968*i)+1,Ot={MIN_PRESENTING_SCALE:.915},Nr=(i,e,t,n)=>{let r=i.offsetHeight,s=!1,a=!1,l=null,c=null,u=.2,d=!0,h=0,m=()=>l&&xe(l)?l.scrollY:!0,T=nt({el:i,gestureName:"modalSwipeToClose",gesturePriority:ti,direction:"y",threshold:10,canStart:D=>{let C=D.event.target;return C===null||!C.closest?!0:(l=mt(C),l?(xe(l)?c=G(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):C.closest("ion-footer")===null)},onStart:D=>{let{deltaY:C}=D;d=m(),a=i.canDismiss!==void 0&&i.canDismiss!==!0,C>0&&l&&Ut(l),e.progressStart(!0,s?1:0)},onMove:D=>{let{deltaY:C}=D;C>0&&l&&Ut(l);let F=D.deltaY/r,w=F>=0&&a,M=w?u:.9999,A=w?Mn(F/M):F,z=Oe(1e-4,A,M);e.progressStep(z),z>=.5&&h<.5?Pn(t):z<.5&&h>=.5&&fo(),h=z},onEnd:D=>{let C=D.velocityY,F=D.deltaY/r,w=F>=0&&a,M=w?u:.9999,A=w?Mn(F/M):F,z=Oe(1e-4,A,M),H=(D.deltaY+C*1e3)/r,$=!w&&H>=.5,O=$?-.001:.001;$?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),O+=tt([0,0],[.32,.72],[0,1],[1,1],z)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),O+=tt([0,0],[1,0],[.68,.28],[1,1],z)[0]);let Z=uo($?F*r:(1-z)*r,C);s=$,T.enable(!1),l&&ai(l,d),e.onFinish(()=>{$||T.enable(!0)}).progressEnd($?1:0,O,Z),w&&z>M/4?ho(i,e):$&&n()}});return T},uo=(i,e)=>Oe(400,i/Math.abs(e*1.1),500),go=i=>{let{currentBreakpoint:e,backdropBreakpoint:t,expandToScroll:n}=i,o=t===void 0||t<e,r=o?`calc(var(--backdrop-opacity) * ${e})`:"0",s=x("backdropAnimation").fromTo("opacity",0,r);o&&s.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);let a=x("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-e*100}%)`}]),l=n?void 0:x("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:`${(1-e)*100}%`},{offset:1,opacity:1,maxHeight:`${e*100}%`}]);return{wrapperAnimation:a,backdropAnimation:s,contentAnimation:l}},vo=i=>{let{currentBreakpoint:e,backdropBreakpoint:t}=i,n=`calc(var(--backdrop-opacity) * ${xn(e,t)})`,o=[{offset:0,opacity:n},{offset:1,opacity:0}],r=[{offset:0,opacity:n},{offset:t,opacity:0},{offset:1,opacity:0}],s=x("backdropAnimation").keyframes(t!==0?r:o);return{wrapperAnimation:x("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-e*100}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},zr=()=>{let i=x().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=x().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:i,wrapperAnimation:e,contentAnimation:void 0}},po=(i,e)=>{let{presentingEl:t,currentBreakpoint:n,expandToScroll:o}=e,r=G(i),{wrapperAnimation:s,backdropAnimation:a,contentAnimation:l}=n!==void 0?go(e):zr();a.addElement(r.querySelector("ion-backdrop")),s.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!o&&l?.addElement(i.querySelector(".ion-page"));let c=x("entering-base").addElement(i).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([s]);if(l&&c.addAnimation(l),t){let u=window.innerWidth<768,d=t.tagName==="ION-MODAL"&&t.presentingElement!==void 0,h=G(t),m=x().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),p=document.body;if(u){let f=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",v=d?"-10px":f,E=Ot.MIN_PRESENTING_SCALE,T=`translateY(${v}) scale(${E})`;m.afterStyles({transform:T}).beforeAddWrite(()=>p.style.setProperty("background-color","black")).addElement(t).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:T,borderRadius:"10px 10px 0 0"}]),c.addAnimation(m)}else if(c.addAnimation(a),!d)s.fromTo("opacity","0","1");else{let v=`translateY(-10px) scale(${d?Ot.MIN_PRESENTING_SCALE:1})`;m.afterStyles({transform:v}).addElement(h.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:v}]);let E=x().afterStyles({transform:v}).addElement(h.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:v}]);c.addAnimation([m,E])}}else c.addAnimation(a);return c},Br=()=>{let i=x().fromTo("opacity","var(--backdrop-opacity)",0),e=x().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:i,wrapperAnimation:e}},mo=(i,e,t=500)=>{let{presentingEl:n,currentBreakpoint:o}=e,r=G(i),{wrapperAnimation:s,backdropAnimation:a}=o!==void 0?vo(e):Br();a.addElement(r.querySelector("ion-backdrop")),s.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});let l=x("leaving-base").addElement(i).easing("cubic-bezier(0.32,0.72,0,1)").duration(t).addAnimation(s);if(n){let c=window.innerWidth<768,u=n.tagName==="ION-MODAL"&&n.presentingElement!==void 0,d=G(n),h=x().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(p=>{if(p!==1)return;n.style.setProperty("overflow",""),Array.from(m.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(v=>v.presentingElement!==void 0).length<=1&&m.style.setProperty("background-color","")}),m=document.body;if(c){let p=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",f=u?"-10px":p,v=Ot.MIN_PRESENTING_SCALE,E=`translateY(${f}) scale(${v})`;h.addElement(n).keyframes([{offset:0,filter:"contrast(0.85)",transform:E,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(h)}else if(l.addAnimation(a),!u)s.fromTo("opacity","1","0");else{let f=`translateY(-10px) scale(${u?Ot.MIN_PRESENTING_SCALE:1})`;h.addElement(d.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:f},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);let v=x().addElement(d.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:f},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([h,v])}}else l.addAnimation(a);return l},Lr=()=>{let i=x().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=x().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:i,wrapperAnimation:e,contentAnimation:void 0}},$r=(i,e)=>{let{currentBreakpoint:t,expandToScroll:n}=e,o=G(i),{wrapperAnimation:r,backdropAnimation:s,contentAnimation:a}=t!==void 0?go(e):Lr();s.addElement(o.querySelector("ion-backdrop")),r.addElement(o.querySelector(".modal-wrapper")),!n&&a?.addElement(i.querySelector(".ion-page"));let l=x().addElement(i).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([s,r]);return a&&l.addAnimation(a),l},qr=()=>{let i=x().fromTo("opacity","var(--backdrop-opacity)",0),e=x().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:i,wrapperAnimation:e}},Hr=(i,e)=>{let{currentBreakpoint:t}=e,n=G(i),{wrapperAnimation:o,backdropAnimation:r}=t!==void 0?vo(e):qr();return r.addElement(n.querySelector("ion-backdrop")),o.addElement(n.querySelector(".modal-wrapper")),x().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([r,o])},Vr=(i,e,t,n,o,r,s=[],a,l,c,u)=>{let d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],h=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-o,opacity:0},{offset:1,opacity:0}],m={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:o!==0?h:d,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},p=i.querySelector("ion-content"),f=t.clientHeight,v=n,E=0,T=!1,D=null,C=null,F=null,w=null,M=.95,A=s[s.length-1],z=s[0],H=r.childAnimations.find(S=>S.id==="wrapperAnimation"),$=r.childAnimations.find(S=>S.id==="backdropAnimation"),O=r.childAnimations.find(S=>S.id==="contentAnimation"),Z=()=>{i.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),i.classList.remove(Te)},re=()=>{i.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),i.classList.add(Te)},J=S=>{if(!C&&(C=Array.from(i.querySelectorAll("ion-footer")),!C.length))return;let _=i.querySelector(".ion-page");if(w=S,S==="stationary")C.forEach(I=>{I.classList.remove("modal-footer-moving"),I.style.removeProperty("position"),I.style.removeProperty("width"),I.style.removeProperty("height"),I.style.removeProperty("top"),I.style.removeProperty("left"),_?.style.removeProperty("padding-bottom"),_?.appendChild(I)});else{let I=0;C.forEach((j,ee)=>{let N=j.getBoundingClientRect(),L=document.body.getBoundingClientRect();I+=j.clientHeight;let W=N.top-L.top,se=N.left-L.left;if(j.style.setProperty("--pinned-width",`${j.clientWidth}px`),j.style.setProperty("--pinned-height",`${j.clientHeight}px`),j.style.setProperty("--pinned-top",`${W}px`),j.style.setProperty("--pinned-left",`${se}px`),ee===0){F=W;let fe=i.querySelector("ion-header");fe&&(F-=fe.clientHeight)}}),C.forEach(j=>{_?.style.setProperty("padding-bottom",`${I}px`),j.classList.add("modal-footer-moving"),j.style.setProperty("position","absolute"),j.style.setProperty("width","var(--pinned-width)"),j.style.setProperty("height","var(--pinned-height)"),j.style.setProperty("top","var(--pinned-top)"),j.style.setProperty("left","var(--pinned-left)"),document.body.appendChild(j)})}};H&&$&&(H.keyframes([...m.WRAPPER_KEYFRAMES]),$.keyframes([...m.BACKDROP_KEYFRAMES]),O?.keyframes([...m.CONTENT_KEYFRAMES]),r.progressStart(!0,1-v),v>o?Z():re()),p&&v!==A&&a&&(p.scrollY=!1);let g=S=>{let _=mt(S.event.target);if(v=l(),!a&&_)return(xe(_)?G(_).querySelector(".inner-scroll"):_).scrollTop===0;if(v===1&&_){let I=xe(_)?G(_).querySelector(".inner-scroll"):_;return!!!_.querySelector("ion-refresher")&&I.scrollTop===0}return!0},y=S=>{if(T=i.canDismiss!==void 0&&i.canDismiss!==!0&&z===0,!a){let _=mt(S.event.target);D=_&&xe(_)?G(_).querySelector(".inner-scroll"):_}a||J("moving"),S.deltaY>0&&p&&(p.scrollY=!1),de(()=>{i.focus()}),r.progressStart(!0,1-v)},b=S=>{if(!a&&F!==null&&w!==null&&(S.currentY>=F&&w==="moving"?J("stationary"):S.currentY<F&&w==="stationary"&&J("moving")),!a&&S.deltaY<=0&&D)return;S.deltaY>0&&p&&(p.scrollY=!1);let _=1-v,I=s.length>1?1-s[1]:void 0,j=_+S.deltaY/f,ee=I!==void 0&&j>=I&&T,N=ee?M:.9999,L=ee&&I!==void 0?I+Mn((j-I)/(N-I)):j;E=Oe(1e-4,L,N),r.progressStep(E)},P=S=>{if(!a&&S.deltaY<=0&&D&&D.scrollTop>0){J("stationary");return}let _=S.velocityY,I=(S.deltaY+_*350)/f,j=v-I,ee=s.reduce((N,L)=>Math.abs(L-j)<Math.abs(N-j)?L:N);B({breakpoint:ee,breakpointOffset:E,canDismiss:T,animated:!0})},B=S=>{let{breakpoint:_,canDismiss:I,breakpointOffset:j,animated:ee}=S,N=I&&_===0,L=N?v:_,W=L!==0;return v=0,H&&$&&(H.keyframes([{offset:0,transform:`translateY(${j*100}%)`},{offset:1,transform:`translateY(${(1-L)*100}%)`}]),$.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${xn(1-j,o)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${xn(L,o)})`}]),O&&O.keyframes([{offset:0,maxHeight:`${(1-j)*100}%`},{offset:1,maxHeight:`${L*100}%`}]),r.progressStep(0)),K.enable(!1),N?ho(i,r):W||c(),p&&(L===s[s.length-1]||!a)&&(p.scrollY=!0),!a&&L===0&&J("stationary"),new Promise(se=>{r.onFinish(()=>{W?(a||J("stationary"),H&&$?de(()=>{H.keyframes([...m.WRAPPER_KEYFRAMES]),$.keyframes([...m.BACKDROP_KEYFRAMES]),O?.keyframes([...m.CONTENT_KEYFRAMES]),r.progressStart(!0,1-L),v=L,u(v),v>o?Z():re(),K.enable(!0),se()}):(K.enable(!0),se())):se()},{oneTimeCallback:!0}).progressEnd(1,0,ee?500:0)})},K=nt({el:t,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:g,onStart:y,onMove:b,onEnd:P});return{gesture:K,moveSheetToBreakpoint:B}},Kr=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',Wr=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',yo=De(class extends Ee{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=q(this,"ionModalDidPresent",7),this.willPresent=q(this,"ionModalWillPresent",7),this.willDismiss=q(this,"ionModalWillDismiss",7),this.didDismiss=q(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=q(this,"ionBreakpointDidChange",7),this.didPresentShorthand=q(this,"didPresent",7),this.willPresentShorthand=q(this,"willPresent",7),this.willDismissShorthand=q(this,"willDismiss",7),this.didDismissShorthand=q(this,"didDismiss",7),this.ionMount=q(this,"ionMount",7),this.lockController=Rt(),this.triggerController=ni(),this.coreDelegate=st(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.expandToScroll=!0,this.backdropBreakpoint=0,this.handleBehavior="none",this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.isOpen=!1,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0,this.onHandleClick=()=>{let{sheetTransition:e,handleBehavior:t}=this;t!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{let{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,ut)},this.onLifecycle=e=>{let t=this.usersElement,n=Gr[e.type];if(t&&n){let o=new CustomEvent(n,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(o)}},this.onModalFocus=e=>{let{dragHandleEl:t,el:n}=this;e.target===n&&t&&t.tabIndex!==-1&&t.focus()}}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){let{trigger:e,el:t,triggerController:n}=this;e&&n.addClickListener(t,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((t,n)=>t-n))}connectedCallback(){let{el:e}=this;at(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;let{breakpoints:t,initialBreakpoint:n,el:o,htmlAttributes:r}=this,s=this.isSheetModal=t!==void 0&&n!==void 0,a=["aria-label","role"];this.inheritedAttributes=Yn(o,a),r!==void 0&&a.forEach(l=>{r[l]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[l]:r[l]}),delete r[l])}),s&&(this.currentBreakpoint=this.initialBreakpoint),t!==void 0&&n!==void 0&&!t.includes(n)&&Se("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((e=this.htmlAttributes)===null||e===void 0)&&e.id||lt(this.el)}componentDidLoad(){this.isOpen===!0&&de(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};let t=this.el.parentNode,n=this.inline=t!==null&&!this.hasController,o=this.workingDelegate=n?this.delegate||this.coreDelegate:this.delegate;return{inline:n,delegate:o}}checkCanDismiss(e,t){return V(this,null,function*(){let{canDismiss:n}=this;return typeof n=="function"?n(e,t):n})}present(){return V(this,null,function*(){let e=yield this.lockController.lock();if(this.presented){e();return}let{presentingElement:t,el:n}=this;this.currentBreakpoint=this.initialBreakpoint;let{inline:o,delegate:r}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=yield ot(r,n,this.component,["ion-page"],this.componentProps,o),Xe(n)?yield et(this.usersElement):this.keepContentsMounted||(yield Je()),Kt(()=>this.el.classList.add("show-modal"));let s=t!==void 0;s&&le(this)==="ios"&&(this.statusBarStyle=yield An.getStyle(),fo()),yield ct(this,"modalEnter",po,$r,{presentingEl:t,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),de(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(Qt,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():s&&this.initSwipeToClose(),e()})}initSwipeToClose(){var e;if(le(this)!=="ios")return;let{el:t}=this,n=this.leaveAnimation||Wt.get("modalLeave",mo),o=this.animation=n(t,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!ri(t)){si(t);return}let s=(e=this.statusBarStyle)!==null&&e!==void 0?e:Ge.Default;this.gesture=Nr(t,o,s,()=>{this.gestureAnimationDismissing=!0,Pn(this.statusBarStyle),this.animation.onFinish(()=>V(this,null,function*(){yield this.dismiss(void 0,Ne),this.gestureAnimationDismissing=!1}))}),this.gesture.enable(!0)}initSheetGesture(){let{wrapperEl:e,initialBreakpoint:t,backdropBreakpoint:n}=this;if(!e||t===void 0)return;let o=this.enterAnimation||Wt.get("modalEnter",po),r=this.animation=o(this.el,{presentingEl:this.presentingElement,currentBreakpoint:t,backdropBreakpoint:n,expandToScroll:this.expandToScroll});r.progressStart(!0,1);let{gesture:s,moveSheetToBreakpoint:a}=Vr(this.el,this.backdropEl,e,t,n,r,this.sortedBreakpoints,this.expandToScroll,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=s,this.moveSheetToBreakpoint=a,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(()=>V(this,null,function*(){this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),yield this.dismiss(void 0,Ne),this.gestureAnimationDismissing=!1}))}dismiss(e,t){return V(this,null,function*(){var n;if(this.gestureAnimationDismissing&&t!==Ne)return!1;let o=yield this.lockController.lock();if(t!=="handler"&&!(yield this.checkCanDismiss(e,t)))return o(),!1;let{presentingElement:r}=this;r!==void 0&&le(this)==="ios"&&Pn(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(Qt,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);let a=yield dt(this,e,t,"modalLeave",mo,Hr,{presentingEl:r,currentBreakpoint:(n=this.currentBreakpoint)!==null&&n!==void 0?n:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(a){let{delegate:l}=this.getDelegate();yield rt(l,this.usersElement),Kt(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,o(),a})}onDidDismiss(){return _e(this.el,"ionModalDidDismiss")}onWillDismiss(){return _e(this.el,"ionModalWillDismiss")}setCurrentBreakpoint(e){return V(this,null,function*(){if(!this.isSheetModal){Se("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){Se(`[ion-modal] - Attempted to set invalid breakpoint value ${e}. Please double check that the breakpoint value is part of your defined breakpoints.`);return}let{currentBreakpoint:t,moveSheetToBreakpoint:n,canDismiss:o,breakpoints:r,animated:s}=this;t!==e&&n&&(this.sheetTransition=n({breakpoint:e,breakpointOffset:1-t,canDismiss:o!==void 0&&o!==!0&&r[0]===0,animated:s}),yield this.sheetTransition,this.sheetTransition=void 0)})}getCurrentBreakpoint(){return V(this,null,function*(){return this.currentBreakpoint})}moveToNextBreakpoint(){return V(this,null,function*(){let{breakpoints:e,currentBreakpoint:t}=this;if(!e||t==null)return!1;let n=e.filter(a=>a!==0),r=(n.indexOf(t)+1)%n.length,s=n[r];return yield this.setCurrentBreakpoint(s),!0})}render(){let{handle:e,isSheetModal:t,presentingElement:n,htmlAttributes:o,handleBehavior:r,inheritedAttributes:s,focusTrap:a,expandToScroll:l}=this,c=e!==!1&&t,u=le(this),d=n!==void 0&&u==="ios",h=r==="cycle";return Y(we,Object.assign({key:"8add05bb43a2cdb5e3cf180147d31eb85a018fe0","no-router":!0,tabIndex:h&&(t&&c)?0:-1},o,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[u]:!0,"modal-default":!d&&!t,"modal-card":d,"modal-sheet":t,"modal-no-expand-scroll":t&&!l,"overlay-hidden":!0,[Te]:a===!1},it(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle,onFocus:this.onModalFocus}),Y("ion-backdrop",{key:"90a6605a9564a699d6f66cf71cf6b506796a2963",ref:p=>this.backdropEl=p,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),u==="ios"&&Y("div",{key:"a97d071395333bf803c0a9347bda000cf7500d8d",class:"modal-shadow"}),Y("div",Object.assign({key:"e7b7985c7414a13e3ba8dcecf497b76e92edf53e",role:"dialog"},s,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:p=>this.wrapperEl=p}),c&&Y("button",{key:"8258b65570b11a8ee9c9df2537d6419cd2e34536",class:"modal-handle",tabIndex:h?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:h?this.onHandleClick:void 0,part:"handle",ref:p=>this.dragHandleEl=p}),Y("slot",{key:"394370d0ed03ee03152f8f8abae7ff7664ca5c13"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:Kr,md:Wr}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16,"enter-animation"],leaveAnimation:[16,"leave-animation"],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16,"component-props"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16,"presenting-element"],htmlAttributes:[16,"html-attributes"],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Gr={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function bo(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,yo);break;case"ion-backdrop":customElements.get(e)||Ft();break}})}var Io=bo;var Yr=i=>{if(!i)return{arrowWidth:0,arrowHeight:0};let{width:e,height:t}=i.getBoundingClientRect();return{arrowWidth:e,arrowHeight:t}},Eo=(i,e,t)=>{let n=e.getBoundingClientRect(),o=n.height,r=n.width;return i==="cover"&&t&&(r=t.getBoundingClientRect().width),{contentWidth:r,contentHeight:o}},Zr=(i,e,t,n)=>{let o=[],s=G(n).querySelector(".popover-content");switch(e){case"hover":o=[{eventName:"mouseenter",callback:a=>{document.elementFromPoint(a.clientX,a.clientY)!==i&&t.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:o=[{eventName:"click",callback:a=>{if(a.target.closest("[data-ion-popover-trigger]")===i){a.stopPropagation();return}t.dismiss(void 0,void 0,!1)}}];break}return o.forEach(({eventName:a,callback:l})=>s.addEventListener(a,l)),()=>{o.forEach(({eventName:a,callback:l})=>s.removeEventListener(a,l))}},Ur=(i,e,t)=>{let n=[];switch(e){case"hover":let o;n=[{eventName:"mouseenter",callback:r=>V(null,null,function*(){r.stopPropagation(),o&&clearTimeout(o),o=setTimeout(()=>{de(()=>{t.presentFromTrigger(r),o=void 0})},100)})},{eventName:"mouseleave",callback:r=>{o&&clearTimeout(o);let s=r.relatedTarget;s&&s.closest("ion-popover")!==t&&t.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:r=>r.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:r=>t.presentFromTrigger(r,!0)}];break;case"context-menu":n=[{eventName:"contextmenu",callback:r=>{r.preventDefault(),t.presentFromTrigger(r)}},{eventName:"click",callback:r=>r.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:r=>t.presentFromTrigger(r,!0)}];break;case"click":default:n=[{eventName:"click",callback:r=>t.presentFromTrigger(r)},{eventName:"ionPopoverActivateTrigger",callback:r=>t.presentFromTrigger(r,!0)}];break}return n.forEach(({eventName:o,callback:r})=>i.addEventListener(o,r)),i.setAttribute("data-ion-popover-trigger","true"),()=>{n.forEach(({eventName:o,callback:r})=>i.removeEventListener(o,r)),i.removeAttribute("data-ion-popover-trigger")}},wo=(i,e)=>!e||e.tagName!=="ION-ITEM"?-1:i.findIndex(t=>t===e),Qr=(i,e)=>{let t=wo(i,e);return i[t+1]},Xr=(i,e)=>{let t=wo(i,e);return i[t-1]},Nt=i=>{let t=G(i).querySelector("button");t&&de(()=>t.focus())},Jr=i=>i.hasAttribute("data-ion-popover-trigger"),es=i=>{let e=t=>V(null,null,function*(){var n;let o=document.activeElement,r=[],s=(n=t.target)===null||n===void 0?void 0:n.tagName;if(!(s!=="ION-POPOVER"&&s!=="ION-ITEM")){try{r=Array.from(i.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch{}switch(t.key){case"ArrowLeft":(yield i.getParentPopover())&&i.dismiss(void 0,void 0,!1);break;case"ArrowDown":t.preventDefault();let l=Qr(r,o);l!==void 0&&Nt(l);break;case"ArrowUp":t.preventDefault();let c=Xr(r,o);c!==void 0&&Nt(c);break;case"Home":t.preventDefault();let u=r[0];u!==void 0&&Nt(u);break;case"End":t.preventDefault();let d=r[r.length-1];d!==void 0&&Nt(d);break;case"ArrowRight":case" ":case"Enter":if(o&&Jr(o)){let h=new CustomEvent("ionPopoverActivateTrigger");o.dispatchEvent(h)}break}}});return i.addEventListener("keydown",e),()=>i.removeEventListener("keydown",e)},Do=(i,e,t,n,o,r,s,a,l,c,u)=>{var d;let h={top:0,left:0,width:0,height:0};switch(r){case"event":if(!u)return l;let F=u;h={top:F.clientY,left:F.clientX,width:1,height:1};break;case"trigger":default:let w=u,M=c||((d=w?.detail)===null||d===void 0?void 0:d.ionShadowTarget)||w?.target;if(!M)return l;let A=M.getBoundingClientRect();h={top:A.top,left:A.left,width:A.width,height:A.height};break}let m=is(s,h,e,t,n,o,i),p=os(a,s,h,e,t),f=m.top+p.top,v=m.left+p.left,{arrowTop:E,arrowLeft:T}=ns(s,n,o,f,v,e,t,i),{originX:D,originY:C}=ts(s,a,i);return{top:f,left:v,referenceCoordinates:h,arrowTop:E,arrowLeft:T,originX:D,originY:C}},ts=(i,e,t)=>{switch(i){case"top":return{originX:Co(e),originY:"bottom"};case"bottom":return{originX:Co(e),originY:"top"};case"left":return{originX:"right",originY:zt(e)};case"right":return{originX:"left",originY:zt(e)};case"start":return{originX:t?"left":"right",originY:zt(e)};case"end":return{originX:t?"right":"left",originY:zt(e)}}},Co=i=>{switch(i){case"start":return"left";case"center":return"center";case"end":return"right"}},zt=i=>{switch(i){case"start":return"top";case"center":return"center";case"end":return"bottom"}},ns=(i,e,t,n,o,r,s,a)=>{let l={arrowTop:n+s/2-e/2,arrowLeft:o+r-e/2},c={arrowTop:n+s/2-e/2,arrowLeft:o-e*1.5};switch(i){case"top":return{arrowTop:n+s,arrowLeft:o+r/2-e/2};case"bottom":return{arrowTop:n-t,arrowLeft:o+r/2-e/2};case"left":return l;case"right":return c;case"start":return a?c:l;case"end":return a?l:c;default:return{arrowTop:0,arrowLeft:0}}},is=(i,e,t,n,o,r,s)=>{let a={top:e.top,left:e.left-t-o},l={top:e.top,left:e.left+e.width+o};switch(i){case"top":return{top:e.top-n-r,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+r,left:e.left};case"left":return a;case"start":return s?l:a;case"end":return s?a:l}},os=(i,e,t,n,o)=>{switch(i){case"center":return ss(e,t,n,o);case"end":return rs(e,t,n,o);case"start":default:return{top:0,left:0}}},rs=(i,e,t,n)=>{switch(i){case"start":case"end":case"left":case"right":return{top:-(n-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(t-e.width)}}},ss=(i,e,t,n)=>{switch(i){case"start":case"end":case"left":case"right":return{top:-(n/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(t/2-e.width/2)}}},So=(i,e,t,n,o,r,s,a,l,c,u,d,h=0,m=0,p=0)=>{let f=h,v=m,E=t,T=e,D,C=c,F=u,w=!1,M=!1,A=d?d.top+d.height:r/2-a/2,z=d?d.height:0,H=!1;return E<n+l?(E=n,w=!0,C="left"):s+n+E+l>o&&(M=!0,E=o-s-n,C="right"),A+z+a>r&&(i==="top"||i==="bottom")&&(A-a>0?(T=Math.max(12,A-a-z-(p-1)),f=T+a,F="bottom",H=!0):D=n),{top:T,left:E,bottom:D,originX:C,originY:F,checkSafeAreaLeft:w,checkSafeAreaRight:M,arrowTop:f,arrowLeft:v,addPopoverBottomClass:H}},as=(i,e=!1,t,n)=>!(!t&&!n||i!=="top"&&i!=="bottom"&&e),ls=5,cs=(i,e)=>{var t;let{event:n,size:o,trigger:r,reference:s,side:a,align:l}=e,c=i.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,m=G(i),p=m.querySelector(".popover-content"),f=m.querySelector(".popover-arrow"),v=r||((t=n?.detail)===null||t===void 0?void 0:t.ionShadowTarget)||n?.target,{contentWidth:E,contentHeight:T}=Eo(o,p,v),{arrowWidth:D,arrowHeight:C}=Yr(f),F={top:h/2-T/2,left:d/2-E/2,originX:u?"right":"left",originY:"top"},w=Do(u,E,T,D,C,s,a,l,F,r,n),M=o==="cover"?0:ls,A=o==="cover"?0:25,{originX:z,originY:H,top:$,left:O,bottom:Z,checkSafeAreaLeft:re,checkSafeAreaRight:J,arrowTop:g,arrowLeft:y,addPopoverBottomClass:b}=So(a,w.top,w.left,M,d,h,E,T,A,w.originX,w.originY,w.referenceCoordinates,w.arrowTop,w.arrowLeft,C),P=x(),B=x(),K=x();return B.addElement(m.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),K.addElement(m.querySelector(".popover-arrow")).addElement(m.querySelector(".popover-content")).fromTo("opacity",.01,1),P.easing("ease").duration(100).beforeAddWrite(()=>{o==="cover"&&i.style.setProperty("--width",`${E}px`),b&&i.classList.add("popover-bottom"),Z!==void 0&&p.style.setProperty("bottom",`${Z}px`);let S=" + var(--ion-safe-area-left, 0)",_=" - var(--ion-safe-area-right, 0)",I=`${O}px`;if(re&&(I=`${O}px${S}`),J&&(I=`${O}px${_}`),p.style.setProperty("top",`calc(${$}px + var(--offset-y, 0))`),p.style.setProperty("left",`calc(${I} + var(--offset-x, 0))`),p.style.setProperty("transform-origin",`${H} ${z}`),f!==null){let j=w.top!==$||w.left!==O;as(a,j,n,r)?(f.style.setProperty("top",`calc(${g}px + var(--offset-y, 0))`),f.style.setProperty("left",`calc(${y}px + var(--offset-x, 0))`)):f.style.setProperty("display","none")}}).addAnimation([B,K])},ds=i=>{let e=G(i),t=e.querySelector(".popover-content"),n=e.querySelector(".popover-arrow"),o=x(),r=x(),s=x();return r.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),o.easing("ease").afterAddWrite(()=>{i.style.removeProperty("--width"),i.classList.remove("popover-bottom"),t.style.removeProperty("top"),t.style.removeProperty("left"),t.style.removeProperty("bottom"),t.style.removeProperty("transform-origin"),n&&(n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("display"))}).duration(300).addAnimation([r,s])},us=12,ps=(i,e)=>{var t;let{event:n,size:o,trigger:r,reference:s,side:a,align:l}=e,c=i.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,m=G(i),p=m.querySelector(".popover-content"),f=r||((t=n?.detail)===null||t===void 0?void 0:t.ionShadowTarget)||n?.target,{contentWidth:v,contentHeight:E}=Eo(o,p,f),T={top:h/2-E/2,left:d/2-v/2,originX:u?"right":"left",originY:"top"},D=Do(u,v,E,0,0,s,a,l,T,r,n),C=o==="cover"?0:us,{originX:F,originY:w,top:M,left:A,bottom:z}=So(a,D.top,D.left,C,d,h,v,E,0,D.originX,D.originY,D.referenceCoordinates),H=x(),$=x(),O=x(),Z=x(),re=x();return $.addElement(m.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),O.addElement(m.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),Z.addElement(p).beforeStyles({top:`calc(${M}px + var(--offset-y, 0px))`,left:`calc(${A}px + var(--offset-x, 0px))`,"transform-origin":`${w} ${F}`}).beforeAddWrite(()=>{z!==void 0&&p.style.setProperty("bottom",`${z}px`)}).fromTo("transform","scale(0.8)","scale(1)"),re.addElement(m.querySelector(".popover-viewport")).fromTo("opacity",.01,1),H.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{o==="cover"&&i.style.setProperty("--width",`${v}px`),w==="bottom"&&i.classList.add("popover-bottom")}).addAnimation([$,O,Z,re])},ms=i=>{let e=G(i),t=e.querySelector(".popover-content"),n=x(),o=x(),r=x();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),n.easing("ease").afterAddWrite(()=>{i.style.removeProperty("--width"),i.classList.remove("popover-bottom"),t.style.removeProperty("top"),t.style.removeProperty("left"),t.style.removeProperty("bottom"),t.style.removeProperty("transform-origin")}).duration(150).addAnimation([o,r])},fs=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',hs=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",_o=De(class extends Ee{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=q(this,"ionPopoverDidPresent",7),this.willPresent=q(this,"ionPopoverWillPresent",7),this.willDismiss=q(this,"ionPopoverWillDismiss",7),this.didDismiss=q(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=q(this,"didPresent",7),this.willPresentShorthand=q(this,"willPresent",7),this.willDismissShorthand=q(this,"willDismiss",7),this.didDismissShorthand=q(this,"didDismiss",7),this.ionMount=q(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=st(),this.lockController=Rt(),this.inline=!1,this.focusDescendantOnPresent=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropDismiss=!0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.triggerAction="click",this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1,this.onBackdropTap=()=>{this.dismiss(void 0,ut)},this.onLifecycle=e=>{let t=this.usersElement,n=gs[e.type];if(t&&n){let o=new CustomEvent(n,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(o)}},this.configureTriggerInteraction=()=>{let{trigger:e,triggerAction:t,el:n,destroyTriggerInteraction:o}=this;if(o&&o(),e===void 0)return;let r=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!r){Se(`[ion-popover] - A trigger element with the ID "${e}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`,this.el);return}this.destroyTriggerInteraction=Ur(r,t,n)},this.configureKeyboardInteraction=()=>{let{destroyKeyboardInteraction:e,el:t}=this;e&&e(),this.destroyKeyboardInteraction=es(t)},this.configureDismissInteraction=()=>{let{destroyDismissInteraction:e,parentPopover:t,triggerAction:n,triggerEl:o,el:r}=this;!t||!o||(e&&e(),this.destroyDismissInteraction=Zr(o,n,r,t))}}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}connectedCallback(){let{configureTriggerInteraction:e,el:t}=this;at(t),e()}disconnectedCallback(){let{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,t;let{el:n}=this,o=(t=(e=this.htmlAttributes)===null||e===void 0?void 0:e.id)!==null&&t!==void 0?t:lt(n);this.parentPopover=n.closest(`ion-popover:not(#${o})`),this.alignment===void 0&&(this.alignment=le(this)==="ios"?"center":"start")}componentDidLoad(){let{parentPopover:e,isOpen:t}=this;t===!0&&de(()=>this.present()),e&&Zn(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}presentFromTrigger(e,t=!1){return V(this,null,function*(){this.focusDescendantOnPresent=t,yield this.present(e),this.focusDescendantOnPresent=!1})}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};let t=this.el.parentNode,n=this.inline=t!==null&&!this.hasController,o=this.workingDelegate=n?this.delegate||this.coreDelegate:this.delegate;return{inline:n,delegate:o}}present(e){return V(this,null,function*(){let t=yield this.lockController.lock();if(this.presented){t();return}let{el:n}=this,{inline:o,delegate:r}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=yield ot(r,n,this.component,["popover-viewport"],this.componentProps,o),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),Xe(n)?yield et(this.usersElement):this.keepContentsMounted||(yield Je()),yield ct(this,"popoverEnter",cs,ps,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&Xn(n),t()})}dismiss(e,t,n=!0){return V(this,null,function*(){let o=yield this.lockController.lock(),{destroyKeyboardInteraction:r,destroyDismissInteraction:s}=this;n&&this.parentPopover&&this.parentPopover.dismiss(e,t,n);let a=yield dt(this,e,t,"popoverLeave",ds,ms,this.event);if(a){r&&(r(),this.destroyKeyboardInteraction=void 0),s&&(s(),this.destroyDismissInteraction=void 0);let{delegate:l}=this.getDelegate();yield rt(l,this.usersElement)}return o(),a})}getParentPopover(){return V(this,null,function*(){return this.parentPopover})}onDidDismiss(){return _e(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return _e(this.el,"ionPopoverWillDismiss")}render(){let e=le(this),{onLifecycle:t,parentPopover:n,dismissOnSelect:o,side:r,arrow:s,htmlAttributes:a,focusTrap:l}=this,c=Un("desktop"),u=s&&!n;return Y(we,Object.assign({key:"16866c02534968c982cf4730d2936d03a5107c8b","aria-modal":"true","no-router":!0,tabindex:"-1"},a,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({},it(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":c,[`popover-side-${r}`]:!0,[Te]:l===!1,"popover-nested":!!n}),onIonPopoverDidPresent:t,onIonPopoverWillPresent:t,onIonPopoverWillDismiss:t,onIonPopoverDidDismiss:t,onIonBackdropTap:this.onBackdropTap}),!n&&Y("ion-backdrop",{key:"0df258601a4d30df3c27aa8234a7d5e056c3ecbb",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),Y("div",{key:"f94e80ed996b957b5cd09b826472b4f60e8fcc78",class:"popover-wrapper ion-overlay-wrapper",onClick:o?()=>this.dismiss():void 0},u&&Y("div",{key:"185ce22f6386e8444a9cc7b8818dbfc16c463c99",class:"popover-arrow",part:"arrow"}),Y("div",{key:"206202b299404e110de5397b229678cca18568d3",class:"popover-content",part:"content"},Y("slot",{key:"ee543a0b92d6e35a837c0a0e4617c7b0fc4ad0b0"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:fs,md:hs}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16,"enter-animation"],leaveAnimation:[16,"leave-animation"],component:[1],componentProps:[16,"component-props"],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16,"html-attributes"],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),gs={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function To(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,_o);break;case"ion-backdrop":customElements.get(e)||Ft();break}})}var ko=To;var vs=(()=>{class i extends Yt{angularDelegate=ge(pt);injector=ge(Ze);environmentInjector=ge(Ye);constructor(){super(Jn),Io()}create(t){return super.create(Bt(he({},t),{delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")}))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ae({token:i,factory:i.\u0275fac})}return i})(),jn=class extends Yt{angularDelegate=ge(pt);injector=ge(Ze);environmentInjector=ge(Ye);constructor(){super(ei),ko()}create(e){return super.create(Bt(he({},e),{delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")}))}},xo=(i={})=>On([{provide:Gt,useValue:i},{provide:Ln,useFactory:ys,multi:!0,deps:[Gt,Ue]},ii(),pt,vs,jn]),ys=(i,e)=>()=>{e.documentElement.classList.add("ion-ce"),Qn(i)};var Po=(()=>{let e=class e{constructor(n,o){this.authService=n,this.router=o}canActivate(){console.log("AuthGuard - Verificando autenticaci\xF3n...");let n=this.authService.isAuthenticated();return console.log("AuthGuard - isAuthenticated:",n),n?(console.log("AuthGuard - Usuario autenticado, permitiendo acceso"),!0):(console.log("AuthGuard - Usuario no autenticado, redirigiendo a login"),this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(o){return new(o||e)(te(ke),te(Ce))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Rn=(()=>{let e=class e{constructor(n,o){this.authService=n,this.router=o}canActivate(n){let o=n.data.roles;return!o||o.length===0||o.some(s=>this.authService.hasRole(s))?!0:(this.router.navigate(["/dashboard"]),!1)}};e.\u0275fac=function(o){return new(o||e)(te(ke),te(Ce))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Mo=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-OZWP4O3Q.js").then(i=>i.LoginPage)},{path:"",canActivate:[Po],loadComponent:()=>import("./chunk-5INRWAED.js").then(i=>i.MainLayoutComponent),children:[{path:"dashboard",loadComponent:()=>import("./chunk-OXAKNQJX.js").then(i=>i.DashboardPage)},{path:"products",loadComponent:()=>import("./chunk-IKOSZUGS.js").then(i=>i.ProductListPage)},{path:"products/:id",loadComponent:()=>import("./chunk-KMX6XQOC.js").then(i=>i.ProductDetailPage)},{path:"orders",loadComponent:()=>import("./chunk-GFTM4B7J.js").then(i=>i.OrdersPage)},{path:"providers",loadComponent:()=>import("./chunk-PDGOYEIJ.js").then(i=>i.ProvidersPage)},{path:"clients",loadComponent:()=>import("./chunk-H5FOUK2J.js").then(i=>i.ClientsPage)},{path:"movements",loadComponent:()=>import("./chunk-C26WXGTY.js").then(i=>i.MovementsPage)},{path:"reservar-prestar-producto",loadComponent:()=>import("./chunk-RL3YQIOR.js").then(i=>i.ReservarPrestarProductoPage)},{path:"ubicaciones",loadComponent:()=>import("./chunk-FY3OJMJ2.js").then(i=>i.UbicacionesListPage)},{path:"recepcion-oc",canActivate:[Rn],data:{roles:[Zt.Administrador]},loadComponent:()=>import("./chunk-FMPCLWHC.js").then(i=>i.RecepcionOcPage)},{path:"existencias",loadComponent:()=>import("./chunk-E7YJST3K.js").then(i=>i.ExistenciasPage)},{path:"egreso-producto",canActivate:[Rn],data:{roles:[Zt.Administrador]},loadComponent:()=>import("./chunk-X6Y2VSRT.js").then(i=>i.EgresoProductoPage)},{path:"agregar-producto",loadComponent:()=>import("./chunk-EVW4VLBS.js").then(i=>i.AgregarProductoPage)},{path:"historial-producto",loadComponent:()=>import("./chunk-6HKA3LZ3.js").then(i=>i.HistorialProductoPage)}]},{path:"**",redirectTo:"login"}];var Ao=(i,e)=>{let t=localStorage.getItem("auth_token");return t&&(i=i.clone({setHeaders:{Authorization:`Bearer ${t}`}})),e(i)};var jo={providers:[Gn(Mo),Vn(Kn([Ao])),co(),xo()]};Hn(ui,jo);
